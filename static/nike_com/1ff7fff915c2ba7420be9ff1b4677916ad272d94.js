// Precompiled on 2024-08-06 17:13:42 +0000
function ouibounce(el,custom_config){"use strict";function setDefault(_property,_default){return void 0===_property?_default:_property}function setDefaultCookieExpire(days){var ms=24*days*60*60*1e3,date=new Date;return date.setTime(date.getTime()+ms),"; expires="+date.toUTCString()}function attachOuiBounce(){isDisabled()||(_html.addEventListener("mouseleave",handleMouseleave),_html.addEventListener("mouseenter",handleMouseenter),_html.addEventListener("keydown",handleKeydown))}function handleMouseleave(e){e.clientY>sensitivity||(_delayTimer=setTimeout(fire,delay))}function handleMouseenter(){_delayTimer&&(clearTimeout(_delayTimer),_delayTimer=null)}function handleKeydown(e){disableKeydown||e.metaKey&&76===e.keyCode&&(disableKeydown=!0,_delayTimer=setTimeout(fire,delay))}function checkCookieValue(cookieName,value){return parseCookies()[cookieName]===value}function parseCookies(){for(var cookies=document.cookie.split("; "),ret={},i=cookies.length-1;i>=0;i--){var el=cookies[i].split("=");ret[el[0]]=el[1]}return ret}function isDisabled(){return checkCookieValue(cookieName,"true")&&!aggressive}function fire(){isDisabled()||(el&&(el.style.display="block"),callback(),disable())}function disable(custom_options){var options=custom_options||{};"undefined"!=typeof options.cookieExpire&&(cookieExpire=setDefaultCookieExpire(options.cookieExpire)),!0===options.sitewide&&(sitewide=";path=/"),"undefined"!=typeof options.cookieDomain&&(cookieDomain=";domain="+options.cookieDomain),"undefined"!=typeof options.cookieName&&(cookieName=options.cookieName),document.cookie=cookieName+"=true"+cookieExpire+cookieDomain+sitewide,_html.removeEventListener("mouseleave",handleMouseleave),_html.removeEventListener("mouseenter",handleMouseenter),_html.removeEventListener("keydown",handleKeydown)}var config=custom_config||{},aggressive=config.aggressive||!1,sensitivity=setDefault(config.sensitivity,20),timer=setDefault(config.timer,1e3),delay=setDefault(config.delay,0),callback=config.callback||function(){},cookieExpire=setDefaultCookieExpire(config.cookieExpire)||"",cookieDomain=config.cookieDomain?";domain="+config.cookieDomain:"",cookieName=config.cookieName?config.cookieName:"viewedOuibounceModal",sitewide=!0===config.sitewide?";path=/":"",_delayTimer=null,_html=document.documentElement;setTimeout(attachOuiBounce,timer);var disableKeydown=!1;return{fire:fire,disable:disable,isDisabled:isDisabled}}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():(e="undefined"!=typeof globalThis?globalThis:e||self).DOMPurify=t()}(this,function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,n){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,n)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function r(){return(r=n()?Reflect.construct:function(e,n,r){var o=[null];o.push.apply(o,n);var a=new(Function.bind.apply(e,o));return r&&t(a,r.prototype),a}).apply(null,arguments)}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return h(e,t,r)}}function D(e,t,n){n=n||N,l&&l(e,null);for(var r=t.length;r--;){var o=t[r];if("string"==typeof o){var a=n(o);a!==o&&(c(t)||(t[r]=a),o=a)}e[o]=!0}return e}function L(e){var t,n=p(null);for(t in e)h(i,e,[t])&&(n[t]=e[t]);return n}function R(e,t){for(;null!==e;){var n=s(e,t);if(n){if(n.get)return O(n.get);if("function"==typeof n.value)return O(n.value)}e=u(e)}return function(e){return console.warn("fallback value for",e),null}}var i=Object.hasOwnProperty,l=Object.setPrototypeOf,c=Object.isFrozen,u=Object.getPrototypeOf,s=Object.getOwnPropertyDescriptor,m=Object.freeze,f=Object.seal,p=Object.create,d="undefined"!=typeof Reflect&&Reflect,h=d.apply,g=d.construct;h||(h=function(e,t,n){return e.apply(t,n)}),m||(m=function(e){return e}),f||(f=function(e){return e}),g||(g=function(e,t){return r(e,o(t))});var y,b=O(Array.prototype.forEach),v=O(Array.prototype.pop),T=O(Array.prototype.push),N=O(String.prototype.toLowerCase),A=O(String.prototype.toString),E=O(String.prototype.match),w=O(String.prototype.replace),S=O(String.prototype.indexOf),x=O(String.prototype.trim),_=O(RegExp.prototype.test),k=(y=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g(y,t)}),M=m(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),C=m(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),I=m(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),F=m(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),U=m(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),H=m(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),z=m(["#text"]),P=m(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),j=m(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),B=m(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),G=m(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),W=f(/\{\{[\w\W]*|[\w\W]*\}\}/gm),q=f(/<%[\w\W]*|[\w\W]*%>/gm),Y=f(/\${[\w\W]*}/gm),$=f(/^data-[\-\w.\u00B7-\uFFFF]/),K=f(/^aria-[\-\w]+$/),V=f(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),X=f(/^(?:\w+script|data):/i),Z=f(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),J=f(/^html$/i),Q=function(){return"undefined"==typeof window?null:window},ee=function(t,n){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var r=null,o="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(o)&&(r=n.currentScript.getAttribute(o));var a="dompurify"+(r?"#"+r:"");try{return t.createPolicy(a,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+a+" could not be created."),null}};return function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q(),r=function(e){return t(e)};if(r.version="2.4.1",r.removed=[],!n||!n.document||9!==n.document.nodeType)return r.isSupported=!1,r;var a=n.document,i=n.document,l=n.DocumentFragment,c=n.HTMLTemplateElement,u=n.Node,s=n.Element,f=n.NodeFilter,p=n.NamedNodeMap,d=void 0===p?n.NamedNodeMap||n.MozNamedAttrMap:p,h=n.HTMLFormElement,g=n.DOMParser,y=n.trustedTypes,O=s.prototype,te=R(O,"cloneNode"),ne=R(O,"nextSibling"),re=R(O,"childNodes"),oe=R(O,"parentNode");if("function"==typeof c){var ae=i.createElement("template");ae.content&&ae.content.ownerDocument&&(i=ae.content.ownerDocument)}var ie=ee(y,a),le=ie?ie.createHTML(""):"",ce=i,ue=ce.implementation,se=ce.createNodeIterator,me=ce.createDocumentFragment,fe=ce.getElementsByTagName,pe=a.importNode,de={};try{de=L(i).documentMode?i.documentMode:{}}catch(e){}var he={};r.isSupported="function"==typeof oe&&ue&&void 0!==ue.createHTMLDocument&&9!==de;var ge,ye,be=W,ve=q,Te=Y,Ne=$,Ae=K,Ee=X,we=Z,Se=V,xe=null,_e=D({},[].concat(o(M),o(C),o(I),o(U),o(z))),ke=null,Oe=D({},[].concat(o(P),o(j),o(B),o(G))),De=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Le=null,Re=null,Me=!0,Ce=!0,Ie=!1,Fe=!1,Ue=!1,He=!1,ze=!1,Pe=!1,je=!1,Be=!1,Ge=!0,We=!1,qe="user-content-",Ye=!0,$e=!1,Ke={},Ve=null,Xe=D({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ze=null,Je=D({},["audio","video","img","source","image","track"]),Qe=null,et=D({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),tt="http://www.w3.org/1998/Math/MathML",nt="http://www.w3.org/2000/svg",rt="http://www.w3.org/1999/xhtml",ot=rt,at=!1,it=null,lt=D({},[tt,nt,rt],A),ct=["application/xhtml+xml","text/html"],ut="text/html",st=null,mt=i.createElement("form"),ft=function(e){return e instanceof RegExp||e instanceof Function},pt=function(t){st&&st===t||(t&&"object"===e(t)||(t={}),t=L(t),ge=ge=-1===ct.indexOf(t.PARSER_MEDIA_TYPE)?ut:t.PARSER_MEDIA_TYPE,ye="application/xhtml+xml"===ge?A:N,xe="ALLOWED_TAGS"in t?D({},t.ALLOWED_TAGS,ye):_e,ke="ALLOWED_ATTR"in t?D({},t.ALLOWED_ATTR,ye):Oe,it="ALLOWED_NAMESPACES"in t?D({},t.ALLOWED_NAMESPACES,A):lt,Qe="ADD_URI_SAFE_ATTR"in t?D(L(et),t.ADD_URI_SAFE_ATTR,ye):et,Ze="ADD_DATA_URI_TAGS"in t?D(L(Je),t.ADD_DATA_URI_TAGS,ye):Je,Ve="FORBID_CONTENTS"in t?D({},t.FORBID_CONTENTS,ye):Xe,Le="FORBID_TAGS"in t?D({},t.FORBID_TAGS,ye):{},Re="FORBID_ATTR"in t?D({},t.FORBID_ATTR,ye):{},Ke="USE_PROFILES"in t&&t.USE_PROFILES,Me=!1!==t.ALLOW_ARIA_ATTR,Ce=!1!==t.ALLOW_DATA_ATTR,Ie=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Fe=t.SAFE_FOR_TEMPLATES||!1,Ue=t.WHOLE_DOCUMENT||!1,Pe=t.RETURN_DOM||!1,je=t.RETURN_DOM_FRAGMENT||!1,Be=t.RETURN_TRUSTED_TYPE||!1,ze=t.FORCE_BODY||!1,Ge=!1!==t.SANITIZE_DOM,We=t.SANITIZE_NAMED_PROPS||!1,Ye=!1!==t.KEEP_CONTENT,$e=t.IN_PLACE||!1,Se=t.ALLOWED_URI_REGEXP||Se,ot=t.NAMESPACE||rt,t.CUSTOM_ELEMENT_HANDLING&&ft(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(De.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&ft(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(De.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(De.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Fe&&(Ce=!1),je&&(Pe=!0),Ke&&(xe=D({},o(z)),ke=[],!0===Ke.html&&(D(xe,M),D(ke,P)),!0===Ke.svg&&(D(xe,C),D(ke,j),D(ke,G)),!0===Ke.svgFilters&&(D(xe,I),D(ke,j),D(ke,G)),!0===Ke.mathMl&&(D(xe,U),D(ke,B),D(ke,G))),t.ADD_TAGS&&(xe===_e&&(xe=L(xe)),D(xe,t.ADD_TAGS,ye)),t.ADD_ATTR&&(ke===Oe&&(ke=L(ke)),D(ke,t.ADD_ATTR,ye)),t.ADD_URI_SAFE_ATTR&&D(Qe,t.ADD_URI_SAFE_ATTR,ye),t.FORBID_CONTENTS&&(Ve===Xe&&(Ve=L(Ve)),D(Ve,t.FORBID_CONTENTS,ye)),Ye&&(xe["#text"]=!0),Ue&&D(xe,["html","head","body"]),xe.table&&(D(xe,["tbody"]),delete Le.tbody),m&&m(t),st=t)},dt=D({},["mi","mo","mn","ms","mtext"]),ht=D({},["foreignobject","desc","title","annotation-xml"]),gt=D({},["title","style","font","a","script"]),yt=D({},C);D(yt,I),D(yt,F);var bt=D({},U);D(bt,H);var vt=function(e){var t=oe(e);t&&t.tagName||(t={namespaceURI:ot,tagName:"template"});var n=N(e.tagName),r=N(t.tagName);return!!it[e.namespaceURI]&&(e.namespaceURI===nt?t.namespaceURI===rt?"svg"===n:t.namespaceURI===tt?"svg"===n&&("annotation-xml"===r||dt[r]):Boolean(yt[n]):e.namespaceURI===tt?t.namespaceURI===rt?"math"===n:t.namespaceURI===nt?"math"===n&&ht[r]:Boolean(bt[n]):e.namespaceURI===rt?!(t.namespaceURI===nt&&!ht[r])&&!(t.namespaceURI===tt&&!dt[r])&&!bt[n]&&(gt[n]||!yt[n]):!("application/xhtml+xml"!==ge||!it[e.namespaceURI]))},Tt=function(e){T(r.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=le}catch(t){e.remove()}}},Nt=function(e,t){try{T(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){T(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!ke[e])if(Pe||je)try{Tt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},At=function(e){var t,n;if(ze)e="<remove></remove>"+e;else{var r=E(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===ge&&ot===rt&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var o=ie?ie.createHTML(e):e;if(ot===rt)try{t=(new g).parseFromString(o,ge)}catch(e){}if(!t||!t.documentElement){t=ue.createDocument(ot,"template",null);try{t.documentElement.innerHTML=at?"":o}catch(e){}}var a=t.body||t.documentElement;return e&&n&&a.insertBefore(i.createTextNode(n),a.childNodes[0]||null),ot===rt?fe.call(t,Ue?"html":"body")[0]:Ue?t.documentElement:a},Et=function(e){return se.call(e.ownerDocument||e,e,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT,null,!1)},wt=function(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},St=function(t){return"object"===e(u)?t instanceof u:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},xt=function(e,t,n){he[e]&&b(he[e],function(e){e.call(r,t,n,st)})},_t=function(e){var t;if(xt("beforeSanitizeElements",e,null),wt(e))return Tt(e),!0;if(_(/[\u0080-\uFFFF]/,e.nodeName))return Tt(e),!0;var n=ye(e.nodeName);if(xt("uponSanitizeElement",e,{tagName:n,allowedTags:xe}),e.hasChildNodes()&&!St(e.firstElementChild)&&(!St(e.content)||!St(e.content.firstElementChild))&&_(/<[/\w]/g,e.innerHTML)&&_(/<[/\w]/g,e.textContent))return Tt(e),!0;if("select"===n&&_(/<template/i,e.innerHTML))return Tt(e),!0;if(!xe[n]||Le[n]){if(!Le[n]&&Ot(n)){if(De.tagNameCheck instanceof RegExp&&_(De.tagNameCheck,n))return!1;if(De.tagNameCheck instanceof Function&&De.tagNameCheck(n))return!1}if(Ye&&!Ve[n]){var o=oe(e)||e.parentNode,a=re(e)||e.childNodes;if(a&&o)for(var i=a.length-1;i>=0;--i)o.insertBefore(te(a[i],!0),ne(e))}return Tt(e),!0}return e instanceof s&&!vt(e)?(Tt(e),!0):"noscript"!==n&&"noembed"!==n||!_(/<\/no(script|embed)/i,e.innerHTML)?(Fe&&3===e.nodeType&&(t=e.textContent,t=w(t,be," "),t=w(t,ve," "),t=w(t,Te," "),e.textContent!==t&&(T(r.removed,{element:e.cloneNode()}),e.textContent=t)),xt("afterSanitizeElements",e,null),!1):(Tt(e),!0)},kt=function(e,t,n){if(Ge&&("id"===t||"name"===t)&&(n in i||n in mt))return!1;if(Ce&&!Re[t]&&_(Ne,t));else if(Me&&_(Ae,t));else if(!ke[t]||Re[t]){if(!(Ot(e)&&(De.tagNameCheck instanceof RegExp&&_(De.tagNameCheck,e)||De.tagNameCheck instanceof Function&&De.tagNameCheck(e))&&(De.attributeNameCheck instanceof RegExp&&_(De.attributeNameCheck,t)||De.attributeNameCheck instanceof Function&&De.attributeNameCheck(t))||"is"===t&&De.allowCustomizedBuiltInElements&&(De.tagNameCheck instanceof RegExp&&_(De.tagNameCheck,n)||De.tagNameCheck instanceof Function&&De.tagNameCheck(n))))return!1}else if(Qe[t]);else if(_(Se,w(n,we,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==S(n,"data:")||!Ze[e])if(Ie&&!_(Ee,w(n,we,"")));else if(n)return!1;return!0},Ot=function(e){return e.indexOf("-")>0},Dt=function(t){var n,o,a,i;xt("beforeSanitizeAttributes",t,null);var l=t.attributes;if(l){var c={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ke};for(i=l.length;i--;){var u=n=l[i],s=u.name,m=u.namespaceURI;if(o="value"===s?n.value:x(n.value),a=ye(s),c.attrName=a,c.attrValue=o,c.keepAttr=!0,c.forceKeepAttr=void 0,xt("uponSanitizeAttribute",t,c),o=c.attrValue,!c.forceKeepAttr&&(Nt(s,t),c.keepAttr))if(_(/\/>/i,o))Nt(s,t);else{Fe&&(o=w(o,be," "),o=w(o,ve," "),o=w(o,Te," "));var f=ye(t.nodeName);if(kt(f,a,o)){if(!We||"id"!==a&&"name"!==a||(Nt(s,t),o=qe+o),ie&&"object"===e(y)&&"function"==typeof y.getAttributeType)if(m);else switch(y.getAttributeType(f,a)){case"TrustedHTML":o=ie.createHTML(o);break;case"TrustedScriptURL":o=ie.createScriptURL(o)}try{m?t.setAttributeNS(m,s,o):t.setAttribute(s,o),v(r.removed)}catch(e){}}}}xt("afterSanitizeAttributes",t,null)}},Lt=function e(t){var n,r=Et(t);for(xt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)xt("uponSanitizeShadowNode",n,null),_t(n)||(n.content instanceof l&&e(n.content),Dt(n));xt("afterSanitizeShadowDOM",t,null)};return r.sanitize=function(t){var o,i,c,s,m,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((at=!t)&&(t="<!-->"),"string"!=typeof t&&!St(t)){if("function"!=typeof t.toString)throw k("toString is not a function");if("string"!=typeof(t=t.toString()))throw k("dirty is not a string, aborting")}if(!r.isSupported){if("object"===e(n.toStaticHTML)||"function"==typeof n.toStaticHTML){if("string"==typeof t)return n.toStaticHTML(t);if(St(t))return n.toStaticHTML(t.outerHTML)}return t}if(He||pt(f),r.removed=[],"string"==typeof t&&($e=!1),$e){if(t.nodeName){var p=ye(t.nodeName);if(!xe[p]||Le[p])throw k("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof u)1===(i=(o=At("<!---->")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?o=i:o.appendChild(i);else{if(!Pe&&!Fe&&!Ue&&-1===t.indexOf("<"))return ie&&Be?ie.createHTML(t):t;if(!(o=At(t)))return Pe?null:Be?le:""}o&&ze&&Tt(o.firstChild);for(var d=Et($e?t:o);c=d.nextNode();)3===c.nodeType&&c===s||_t(c)||(c.content instanceof l&&Lt(c.content),Dt(c),s=c);if(s=null,$e)return t;if(Pe){if(je)for(m=me.call(o.ownerDocument);o.firstChild;)m.appendChild(o.firstChild);else m=o;return ke.shadowroot&&(m=pe.call(a,m,!0)),m}var h=Ue?o.outerHTML:o.innerHTML;return Ue&&xe["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&_(J,o.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+h),Fe&&(h=w(h,be," "),h=w(h,ve," "),h=w(h,Te," ")),ie&&Be?ie.createHTML(h):h},r.setConfig=function(e){pt(e),He=!0},r.clearConfig=function(){st=null,He=!1},r.isValidAttribute=function(e,t,n){st||pt({});var r=ye(e),o=ye(t);return kt(r,o,n)},r.addHook=function(e,t){"function"==typeof t&&(he[e]=he[e]||[],T(he[e],t))},r.removeHook=function(e){if(he[e])return v(he[e])},r.removeHooks=function(e){he[e]&&(he[e]=[])},r.removeAllHooks=function(){he={}},r}()}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):e((t="undefined"!=typeof globalThis?globalThis:t||self).noUiSlider={})}(this,function(ot){"use strict";function n(t){return"object"==typeof t&&"function"==typeof t.to}function st(t){t.parentElement.removeChild(t)}function at(t){return null!=t}function lt(t){t.preventDefault()}function i(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function ut(t,e,r){0<r&&(ft(t,e),setTimeout(function(){dt(t,e)},r))}function ct(t){return Math.max(Math.min(t,100),0)}function pt(t){return Array.isArray(t)?t:[t]}function e(t){return 1<(t=(t=String(t)).split(".")).length?t[1].length:0}function ft(t,e){t.classList&&!/\s/.test(e)?t.classList.add(e):t.className+=" "+e}function dt(t,e){t.classList&&!/\s/.test(e)?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function ht(t){var e=void 0!==window.pageXOffset,r="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:(r?t.documentElement:t.body).scrollLeft,y:e?window.pageYOffset:(r?t.documentElement:t.body).scrollTop}}function s(t,e){return 100/(e-t)}function a(t,e,r){return 100*e/(t[r+1]-t[r])}function l(t,e){for(var r=1;t>=e[r];)r+=1;return r}function r(t,e,r){if(r>=t.slice(-1)[0])return 100;var i=t[(n=l(r,t))-1],o=t[n],n=(t=e[n-1],e[n]);return t+(r=r,a(o=[i,o],o[0]<0?r+Math.abs(o[0]):r-o[0],0)/s(t,n))}function o(t,e,r,n){if(100===n)return n;var i=l(n,t),o=t[i-1],s=t[i];return r?(s-o)/2<n-o?s:o:e[i-1]?t[i-1]+(t=n-t[i-1],i=e[i-1],Math.round(t/i)*i):n}function t(e,t,r){var n;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[r||!1],this.xNumSteps=[!1],this.snap=t;var i=[];for(Object.keys(e).forEach(function(t){i.push([pt(e[t]),t])}),i.sort(function(t,e){return t[0][0]-e[0][0]}),n=0;n<i.length;n++)this.handleEntryPoint(i[n][1],i[n][0]);for(this.xNumSteps=this.xSteps.slice(0),n=0;n<this.xNumSteps.length;n++)this.handleStepPoint(n,this.xNumSteps[n])}function f(t,e){if(!i(e))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=e}function d(t,e){if(!i(e))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");t.keyboardPageMultiplier=e}function h(t,e){if(!i(e))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");t.keyboardMultiplier=e}function m(t,e){if(!i(e))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");t.keyboardDefaultStep=e}function g(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");t.spectrum=new u(e,t.snap||!1,t.singleStep)}function v(t,e){if(e=pt(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider: 'start' option is incorrect.");t.handles=e.length,t.start=e}function b(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'snap' option must be a boolean.");t.snap=e}function S(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'animate' option must be a boolean.");t.animate=e}function x(t,e){if("number"!=typeof e)throw new Error("noUiSlider: 'animationDuration' option must be a number.");t.animationDuration=e}function y(t,e){var r,n=[!1];if("lower"===e?e=[!0,!1]:"upper"===e&&(e=[!1,!0]),!0===e||!1===e){for(r=1;r<t.handles;r++)n.push(e);n.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");n=e}t.connect=n}function w(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function E(t,e){if(!i(e))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==e&&(t.margin=t.spectrum.getDistance(e))}function P(t,e){if(!i(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getDistance(e),!t.limit||t.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function C(t,e){var r;if(!i(e)&&!Array.isArray(e))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&2!==e.length&&!i(e[0])&&!i(e[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==e){for(Array.isArray(e)||(e=[e,e]),t.padding=[t.spectrum.getDistance(e[0]),t.spectrum.getDistance(e[1])],r=0;r<t.spectrum.xNumSteps.length-1;r++)if(t.padding[0][r]<0||t.padding[1][r]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var n=e[0]+e[1];e=t.spectrum.xVal[0];if(1<n/(t.spectrum.xVal[t.spectrum.xVal.length-1]-e))throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function N(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function V(t,e){if("string"!=typeof e)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var r=0<=e.indexOf("tap"),n=0<=e.indexOf("drag"),i=0<=e.indexOf("fixed"),o=0<=e.indexOf("snap"),s=0<=e.indexOf("hover"),a=0<=e.indexOf("unconstrained"),l=0<=e.indexOf("drag-all");e=0<=e.indexOf("smooth-steps");if(i){if(2!==t.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");E(t,t.start[1]-t.start[0])}if(a&&(t.margin||t.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:r||o,drag:n,dragAll:l,smoothSteps:e,fixed:i,snap:o,hover:s,unconstrained:a}}function k(t,e){if(!1!==e)if(!0===e||n(e)){t.tooltips=[];for(var r=0;r<t.handles;r++)t.tooltips.push(e)}else{if((e=pt(e)).length!==t.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");e.forEach(function(t){if("boolean"!=typeof t&&!n(t))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),t.tooltips=e}}function M(t,e){if(e.length!==t.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");t.handleAttributes=e}function A(t,e){if(!n(e))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");t.ariaFormat=e}function U(t,e){if(!n(r=e)||"function"!=typeof r.from)throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");var r;t.format=e}function D(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");t.keyboardSupport=e}function O(t,e){t.documentElement=e}function L(t,e){if("string"!=typeof e&&!1!==e)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function T(e,r){if("object"!=typeof r)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof e.cssPrefix?(e.cssClasses={},Object.keys(r).forEach(function(t){e.cssClasses[t]=e.cssPrefix+r[t]})):e.cssClasses=r}function gt(e){var r={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:c,format:c},n={step:{r:!1,t:f},keyboardPageMultiplier:{r:!1,t:d},keyboardMultiplier:{r:!1,t:h},keyboardDefaultStep:{r:!1,t:m},start:{r:!0,t:v},connect:{r:!0,t:y},direction:{r:!0,t:N},snap:{r:!1,t:b},animate:{r:!1,t:S},animationDuration:{r:!1,t:x},range:{r:!0,t:g},orientation:{r:!1,t:w},margin:{r:!1,t:E},limit:{r:!1,t:P},padding:{r:!1,t:C},behaviour:{r:!0,t:V},ariaFormat:{r:!1,t:A},format:{r:!1,t:U},tooltips:{r:!1,t:k},keyboardSupport:{r:!0,t:D},documentElement:{r:!1,t:O},cssPrefix:{r:!0,t:L},cssClasses:{r:!0,t:T},handleAttributes:{r:!1,t:M}},i={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:p,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(n).forEach(function(t){if(at(e[t])||void 0!==i[t])n[t].t(r,(at(e[t])?e:i)[t]);else if(n[t].r)throw new Error("noUiSlider: '"+t+"' is required.")}),r.pips=e.pips;var o=void 0!==(t=document.createElement("div")).style.msTransform,t=void 0!==t.style.transform;return r.transformRule=t?"transform":o?"msTransform":"webkitTransform",r.style=[["left","top"],["right","bottom"]][r.dir][r.ort],r}function j(t,f,o){function P(t,e){var r=x.createElement("div");return e&&ft(r,e),t.appendChild(r),r}function C(t,e){var r,n=P(t=P(t,f.cssClasses.origin),f.cssClasses.handle);return P(n,f.cssClasses.touchArea),n.setAttribute("data-handle",String(e)),f.keyboardSupport&&(n.setAttribute("tabindex","0"),n.addEventListener("keydown",function(t){return function(t,e){if(V()||k(e))return!1;var r=["Left","Right"],n=["Down","Up"],i=["PageDown","PageUp"],o=["Home","End"];f.dir&&!f.ort?r.reverse():f.ort&&!f.dir&&(n.reverse(),i.reverse())
;var s=t.key.replace("Arrow",""),a=s===i[0],l=s===i[1];i=s===n[0]||s===r[0]||a,n=s===n[1]||s===r[1]||l,r=s===o[0],o=s===o[1];if(!(i||n||r||o))return!0;if(t.preventDefault(),n||i){var u=i?0:1;if(null===(u=nt(e)[u]))return!1;!1===u&&(u=S.getDefaultStep(m[e],i,f.keyboardDefaultStep)),u*=l||a?f.keyboardPageMultiplier:f.keyboardMultiplier,u=Math.max(u,1e-7),u*=i?-1:1,u=h[e]+u}else u=o?f.spectrum.xVal[f.spectrum.xVal.length-1]:f.spectrum.xVal[0];return Q(e,S.toStepping(u),!0,!0),I("slide",e),I("update",e),I("change",e),I("set",e),!1}(t,e)})),void 0!==f.handleAttributes&&(r=f.handleAttributes[e],Object.keys(r).forEach(function(t){n.setAttribute(t,r[t])})),n.setAttribute("role","slider"),n.setAttribute("aria-orientation",f.ort?"vertical":"horizontal"),0===e?ft(n,f.cssClasses.handleLower):e===f.handles-1&&ft(n,f.cssClasses.handleUpper),t}function N(t,e){return!!e&&P(t,f.cssClasses.connect)}function e(t,e){return!(!f.tooltips||!f.tooltips[e])&&P(t.firstChild,f.cssClasses.tooltip)}function V(){return d.hasAttribute("disabled")}function k(t){return l[t].hasAttribute("disabled")}function M(){s&&(Y("update"+mt.tooltips),s.forEach(function(t){t&&st(t)}),s=null)}function A(){M(),s=l.map(e),X("update"+mt.tooltips,function(t,e,r){s&&f.tooltips&&!1!==s[e]&&(t=t[e],!0!==f.tooltips[e]&&(t=f.tooltips[e].to(r[e])),s[e].innerHTML=t)})}function U(t,e){return t.map(function(t){return S.fromStepping(e?S.getStep(t):t)})}function D(d){var h=function(t){if(t.mode===ot.PipsMode.Range||t.mode===ot.PipsMode.Steps)return S.xVal;if(t.mode!==ot.PipsMode.Count)return t.mode===ot.PipsMode.Positions?U(t.values,t.stepped):t.mode===ot.PipsMode.Values?t.stepped?t.values.map(function(t){return S.fromStepping(S.getStep(S.toStepping(t)))}):t.values:[];if(t.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var e=t.values-1,r=100/e,n=[];e--;)n[e]=e*r;return n.push(100),U(n,t.stepped)}(d),m={},t=S.xVal[0],e=S.xVal[S.xVal.length-1],g=!1,v=!1,b=0;return(h=h.slice().sort(function(t,e){return t-e}).filter(function(t){return!this[t]&&(this[t]=!0)},{}))[0]!==t&&(h.unshift(t),g=!0),h[h.length-1]!==e&&(h.push(e),v=!0),h.forEach(function(t,e){t=t;var r,n,i,o,s,a,l,u,c=h[e+1],p=d.mode===ot.PipsMode.Steps,f=(f=p?S.xNumSteps[e]:f)||c-t;for(void 0===c&&(c=t),f=Math.max(f,1e-7),r=t;r<=c;r=Number((r+f).toFixed(7))){for(a=(o=(i=S.toStepping(r))-b)/(d.density||1),u=o/(l=Math.round(a)),n=1;n<=l;n+=1)m[(s=b+n*u).toFixed(5)]=[S.fromStepping(s),0];a=-1<h.indexOf(r)?ot.PipsType.LargeValue:p?ot.PipsType.SmallValue:ot.PipsType.NoValue,!e&&g&&r!==c&&(a=0),r===c&&v||(m[i.toFixed(5)]=[r,a]),b=i}}),m}function O(i,o,s){function p(t,e){var r=e===f.cssClasses.value;return e+" "+(r?u:c)[f.ort]+" "+(r?n:l)[t]}var t,a=x.createElement("div"),n=((t={})[ot.PipsType.None]="",t[ot.PipsType.NoValue]=f.cssClasses.valueNormal,t[ot.PipsType.LargeValue]=f.cssClasses.valueLarge,t[ot.PipsType.SmallValue]=f.cssClasses.valueSub,t),l=((t={})[ot.PipsType.None]="",t[ot.PipsType.NoValue]=f.cssClasses.markerNormal,t[ot.PipsType.LargeValue]=f.cssClasses.markerLarge,t[ot.PipsType.SmallValue]=f.cssClasses.markerSub,t),u=[f.cssClasses.valueHorizontal,f.cssClasses.valueVertical],c=[f.cssClasses.markerHorizontal,f.cssClasses.markerVertical];return ft(a,f.cssClasses.pips),ft(a,0===f.ort?f.cssClasses.pipsHorizontal:f.cssClasses.pipsVertical),Object.keys(i).forEach(function(t){var e,r,n;r=i[e=t][0],n=i[t][1],(n=o?o(r,n):n)!==ot.PipsType.None&&((t=P(a,!1)).className=p(n,f.cssClasses.marker),t.style[f.style]=e+"%",n>ot.PipsType.NoValue&&((t=P(a,!1)).className=p(n,f.cssClasses.value),t.setAttribute("data-value",String(r)),t.style[f.style]=e+"%",t.innerHTML=String(s.to(r))))}),a}function L(){n&&(st(n),n=null)}function T(t){L();var e=D(t),r=t.filter;t=t.format||{to:function(t){return String(Math.round(t))}};return n=d.appendChild(O(e,r,t))}function j(){var t=i.getBoundingClientRect(),e="offset"+["Width","Height"][f.ort];return 0===f.ort?t.width||i[e]:t.height||i[e]}function z(n,i,o,s){function e(t){var e,r=function(e,t,r){var n=0===e.type.indexOf("touch"),i=0===e.type.indexOf("mouse"),o=0===e.type.indexOf("pointer"),s=0,a=0;if(0===e.type.indexOf("MSPointer")&&(o=!0),"mousedown"===e.type&&!e.buttons&&!e.touches)return!1;if(n){var l=function(t){return(t=t.target)===r||r.contains(t)||e.composed&&e.composedPath().shift()===r};if("touchstart"===e.type){if(1<(n=Array.prototype.filter.call(e.touches,l)).length)return!1;s=n[0].pageX,a=n[0].pageY}else{if(!(l=Array.prototype.find.call(e.changedTouches,l)))return!1;s=l.pageX,a=l.pageY}}return t=t||ht(x),(i||o)&&(s=e.clientX+t.x,a=e.clientY+t.y),e.pageOffset=t,e.points=[s,a],e.cursor=i||o,e}(t,s.pageOffset,s.target||i);return!!r&&!(V()&&!s.doNotReject)&&(e=d,t=f.cssClasses.tap,!((e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className))&&!s.doNotReject)&&!(n===c.start&&void 0!==r.buttons&&1<r.buttons)&&(!s.hover||!r.buttons)&&(p||r.preventDefault(),r.calcPoint=r.points[f.ort],void o(r,s)))}var r=[];return n.split(" ").forEach(function(t){i.addEventListener(t,e,!!p&&{passive:!0}),r.push([t,e])}),r}function H(t){var e,r,n=ct(n=100*(t-(n=i,e=f.ort,r=n.getBoundingClientRect(),n=(t=n.ownerDocument).documentElement,t=ht(t),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(t.x=0),e?r.top+t.y-n.clientTop:r.left+t.x-n.clientLeft))/j());return f.dir?100-n:n}function F(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&_(t,e)}function R(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return _(t,e);G(0<(t=(f.dir?-1:1)*(t.calcPoint-e.startCalcPoint)),100*t/e.baseSize,e.locations,e.handleNumbers,e.connect)}function _(t,e){e.handle&&(dt(e.handle,f.cssClasses.active),--v),e.listeners.forEach(function(t){y.removeEventListener(t[0],t[1])}),0===v&&(dt(d,f.cssClasses.drag),K(),t.cursor&&(w.style.cursor="",w.removeEventListener("selectstart",lt))),f.events.smoothSteps&&(e.handleNumbers.forEach(function(t){Q(t,m[t],!0,!0,!1,!1)}),e.handleNumbers.forEach(function(t){I("update",t)})),e.handleNumbers.forEach(function(t){I("change",t),I("set",t),I("end",t)})}function B(t,e){var r,n,i,o;e.handleNumbers.some(k)||(1===e.handleNumbers.length&&(o=l[e.handleNumbers[0]].children[0],v+=1,ft(o,f.cssClasses.active)),t.stopPropagation(),n=z(c.move,y,R,{target:t.target,handle:o,connect:e.connect,listeners:r=[],startCalcPoint:t.calcPoint,baseSize:j(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:m.slice()}),i=z(c.end,y,_,{target:t.target,handle:o,listeners:r,doNotReject:!0,handleNumbers:e.handleNumbers}),o=z("mouseout",y,F,{target:t.target,handle:o,listeners:r,doNotReject:!0,handleNumbers:e.handleNumbers}),r.push.apply(r,n.concat(i,o)),t.cursor&&(w.style.cursor=getComputedStyle(t.target).cursor,1<l.length&&ft(d,f.cssClasses.drag),w.addEventListener("selectstart",lt,!1)),e.handleNumbers.forEach(function(t){I("start",t)}))}function r(t){t.stopPropagation();var i,o,s,e=H(t.calcPoint),r=(i=e,s=!(o=100),l.forEach(function(t,e){var r,n;k(e)||(r=m[e],((n=Math.abs(r-i))<o||n<=o&&r<i||100===n&&100===o)&&(s=e,o=n))}),s);!1!==r&&(f.events.snap||ut(d,f.cssClasses.tap,f.animationDuration),Q(r,e,!0,!0),K(),I("slide",r,!0),I("update",r,!0),f.events.snap?B(t,{handleNumbers:[r]}):(I("change",r,!0),I("set",r,!0)))}function q(t){t=H(t.calcPoint),t=S.getStep(t);var e=S.fromStepping(t);Object.keys(b).forEach(function(t){"hover"===t.split(".")[0]&&b[t].forEach(function(t){t.call(it,e)})})}function X(t,e){b[t]=b[t]||[],b[t].push(e),"update"===t.split(".")[0]&&l.forEach(function(t,e){I("update",e)})}function Y(t){var n=t&&t.split(".")[0],i=n?t.substring(n.length):t;Object.keys(b).forEach(function(t){var e=t.split(".")[0],r=t.substring(e.length);n&&n!==e||i&&i!==r||((e=r)!==mt.aria&&e!==mt.tooltips||i===r)&&delete b[t]})}function I(r,n,i){Object.keys(b).forEach(function(t){var e=t.split(".")[0];r===e&&b[t].forEach(function(t){t.call(it,h.map(f.format.to),n,h.slice(),i||!1,m.slice(),it)})})}function W(t,e,r,n,i,o,s){var a;return 1<l.length&&!f.events.unconstrained&&(n&&0<e&&(a=S.getAbsoluteDistance(t[e-1],f.margin,!1),r=Math.max(r,a)),i&&e<l.length-1&&(a=S.getAbsoluteDistance(t[e+1],f.margin,!0),r=Math.min(r,a))),1<l.length&&f.limit&&(n&&0<e&&(a=S.getAbsoluteDistance(t[e-1],f.limit,!1),r=Math.min(r,a)),i&&e<l.length-1&&(a=S.getAbsoluteDistance(t[e+1],f.limit,!0),r=Math.max(r,a))),f.padding&&(0===e&&(a=S.getAbsoluteDistance(0,f.padding[0],!1),r=Math.max(r,a)),e===l.length-1&&(a=S.getAbsoluteDistance(100,f.padding[1],!0),r=Math.min(r,a))),!((r=ct(r=s?r:S.getStep(r)))===t[e]&&!o)&&r}function $(t,e){var r=f.ort;return(r?e:t)+", "+(r?t:e)}function G(t,r,n,e,i){var o=n.slice(),s=e[0],a=f.events.smoothSteps,l=[!t,t],u=[t,!t];e=e.slice(),t&&e.reverse(),1<e.length?e.forEach(function(t,e){!1===(e=W(o,t,o[t]+r,l[e],u[e],!1,a))?r=0:(r=e-o[t],o[t]=e)}):l=u=[!0];var c=!1;e.forEach(function(t,e){c=Q(t,n[t]+r,l[e],u[e],!1,a)||c}),c&&(e.forEach(function(t){I("update",t),I("slide",t)}),null!=i&&I("drag",s))}function J(t,e){return f.dir?100-t-e:t}function K(){g.forEach(function(t){var e=50<m[t]?-1:1;e=3+(l.length+e*t);l[t].style.zIndex=String(e)})}function Q(t,e,r,n,i,o){return!1!==(e=i?e:W(m,t,e,r,n,!1,o))&&(e=e,m[t=t]=e,h[t]=S.fromStepping(e),e="translate("+$(J(e,0)-E+"%","0")+")",l[t].style[f.transformRule]=e,Z(t),Z(t+1),!0)}function Z(t){var e,r;a[t]&&(r=100,e="translate("+$(J(e=(e=0)!==t?m[t-1]:e,r=(r=t!==a.length-1?m[t]:r)-e)+"%","0")+")",r="scale("+$(r/100,"1")+")",a[t].style[f.transformRule]=e+" "+r)}function tt(t,e){return null===t||!1===t||void 0===t?m[e]:("number"==typeof t&&(t=String(t)),!1===(t=!1!==(t=f.format.from(t))?S.toStepping(t):t)||isNaN(t)?m[e]:t)}function et(t,e,r){var n=pt(t);t=void 0===m[0];e=void 0===e||e,f.animate&&!t&&ut(d,f.cssClasses.tap,f.animationDuration),g.forEach(function(t){Q(t,tt(n[t],t),!0,!1,r)});var i,o=1===g.length?0:1;for(t&&S.hasNoSize()&&(r=!0,m[0]=0,1<g.length&&(i=100/(g.length-1),g.forEach(function(t){m[t]=t*i})));o<g.length;++o)g.forEach(function(t){Q(t,m[t],!0,!0,r)});K(),g.forEach(function(t){I("update",t),null!==n[t]&&e&&I("set",t)})}function rt(t){return(t=void 0!==t&&t)?1===h.length?h[0]:h.slice(0):1===(t=h.map(f.format.to)).length?t[0]:t}function nt(t){var e=m[t],r=S.getNearbySteps(e),n=h[t],i=r.thisStep.step;t=null;return f.snap?[n-r.stepBefore.startValue||null,r.stepAfter.startValue-n||null]:(!1!==i&&n+i>r.stepAfter.startValue&&(i=r.stepAfter.startValue-n),t=n>r.thisStep.startValue?r.thisStep.step:!1!==r.stepBefore.step&&n-r.stepBefore.highestStep,100===e?i=null:0===e&&(t=null),e=S.countStepDecimals(),null!==i&&!1!==i&&(i=Number(i.toFixed(e))),[t=null!==t&&!1!==t?Number(t.toFixed(e)):t,i])}var i,l,a,n,s,u,c=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},p=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),d=t,S=f.spectrum,h=[],m=[],g=[],v=0,b={},x=t.ownerDocument,y=f.documentElement||x.documentElement,w=x.body,E="rtl"===x.dir||1===f.ort?0:100;ft(t=d,f.cssClasses.target),0===f.dir?ft(t,f.cssClasses.ltr):ft(t,f.cssClasses.rtl),0===f.ort?ft(t,f.cssClasses.horizontal):ft(t,f.cssClasses.vertical),ft(t,"rtl"===getComputedStyle(t).direction?f.cssClasses.textDirectionRtl:f.cssClasses.textDirectionLtr),i=P(t,f.cssClasses.base),function(t,e){var r=P(e,f.cssClasses.connects);l=[],(a=[]).push(N(r,t[0]));for(var n=0;n<f.handles;n++)l.push(C(e,n)),g[n]=n,a.push(N(r,t[n+1]))}(f.connect,i),(u=f.events).fixed||l.forEach(function(t,e){z(c.start,t.children[0],B,{handleNumbers:[e]})}),u.tap&&z(c.start,i,r,{}),u.hover&&z(c.move,i,q,{hover:!0}),u.drag&&a.forEach(function(e,t){var r,n,i,o,s;!1!==e&&0!==t&&t!==a.length-1&&(r=l[t-1],n=l[t],i=[e],o=[r,n],s=[t-1,t],ft(e,f.cssClasses.draggable),u.fixed&&(i.push(r.children[0]),i.push(n.children[0])),u.dragAll&&(o=l,s=g),i.forEach(function(t){z(c.start,t,B,{handles:o,handleNumbers:s,connect:e})}))}),et(f.start),f.pips&&T(f.pips),f.tooltips&&A(),Y("update"+mt.aria),X("update"+mt.aria,function(t,e,o,r,s){g.forEach(function(t){var e=l[t],r=W(m,t,0,!0,!0,!0),n=W(m,t,100,!0,!0,!0),i=s[t];t=String(f.ariaFormat.to(o[t])),r=S.fromStepping(r).toFixed(1),n=S.fromStepping(n).toFixed(1),i=S.fromStepping(i).toFixed(1);e.children[0].setAttribute("aria-valuemin",r),e.children[0].setAttribute("aria-valuemax",n),e.children[0].setAttribute("aria-valuenow",i),e.children[0].setAttribute("aria-valuetext",t)})});var it={destroy:function(){for(Y(mt.aria),Y(mt.tooltips),Object.keys(f.cssClasses).forEach(function(t){dt(d,f.cssClasses[t])});d.firstChild;)d.removeChild(d.firstChild);delete d.noUiSlider},steps:function(){return g.map(nt)},on:X,off:Y,get:rt,set:et,setHandle:function(t,e,r,n){if(!(0<=(t=Number(t))&&t<g.length))throw new Error("noUiSlider: invalid handle number, got: "+t);Q(t,tt(e,t),!0,!0,n),I("update",t),r&&I("set",t)},reset:function(t){et(f.start,t)},__moveHandles:function(t,e,r){G(t,e,m,r)},options:o,updateOptions:function(e,t){var r=rt(),n=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];n.forEach(function(t){void 0!==e[t]&&(o[t]=e[t])});var i=gt(o);n.forEach(function(t){void 0!==e[t]&&(f[t]=i[t])}),S=i.spectrum,f.margin=i.margin,f.limit=i.limit,f.padding=i.padding,f.pips?T(f.pips):L(),(f.tooltips?A:M)(),m=[],et(at(e.start)?e.start:r,t)},target:d,removePips:L,removeTooltips:M,getPositions:function(){return m.slice()},getTooltips:function(){return s},getOrigins:function(){return l},pips:T};return it}function z(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");return e=j(t,gt(e),e),t.noUiSlider=e}ot.PipsMode=void 0,(H=ot.PipsMode||(ot.PipsMode={})).Range="range",H.Steps="steps",H.Positions="positions",H.Count="count",H.Values="values",ot.PipsType=void 0,(H=ot.PipsType||(ot.PipsType={}))[H.None=-1]="None",H[H.NoValue=0]="NoValue",H[H.LargeValue=1]="LargeValue",H[H.SmallValue=2]="SmallValue";var u=(t.prototype.getDistance=function(t){for(var e=[],r=0;r<this.xNumSteps.length-1;r++)e[r]=a(this.xVal,t,r);return e},t.prototype.getAbsoluteDistance=function(t,e,r){var n=0;if(t<this.xPct[this.xPct.length-1])for(;t>this.xPct[n+1];)n++;else t===this.xPct[this.xPct.length-1]&&(n=this.xPct.length-2);r||t!==this.xPct[n+1]||n++;for(var i,o=1,s=(e=null===e?[]:e)[n],a=0,l=0,u=0,c=r?(t-this.xPct[n])/(this.xPct[n+1]-this.xPct[n]):(this.xPct[n+1]-t)/(this.xPct[n+1]-this.xPct[n]);0<s;)i=this.xPct[n+1+u]-this.xPct[n+u],100<e[n+u]*o+100-100*c?(a=i*c,o=(s-100*c)/e[n+u],c=1):(a=e[n+u]*i/100*o,o=0),r?(l-=a,1<=this.xPct.length+u&&u--):(l+=a,1<=this.xPct.length-u&&u++),s=e[n+u]*o;return t+l},t.prototype.toStepping=function(t){return r(this.xVal,this.xPct,t)},t.prototype.fromStepping=function(t){return function(t,e,r){if(100<=r)return t.slice(-1)[0];var n,i=t[(n=l(r,e))-1],o=t[n];return(r-(t=e[n-1]))*s(t,n=e[n])*((o=[i,o])[1]-o[0])/100+o[0]}(this.xVal,this.xPct,t)},t.prototype.getStep=function(t){return o(this.xPct,this.xSteps,this.snap,t)},t.prototype.getDefaultStep=function(t,e,r){var n=l(t,this.xPct);return(100===t||e&&t===this.xPct[n-1])&&(n=Math.max(n-1,1)),(this.xVal[n]-this.xVal[n-1])/r},t.prototype.getNearbySteps=function(t){return t=l(t,this.xPct),{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},t.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(e);return Math.max.apply(null,t)},t.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},t.prototype.convert=function(t){return this.getStep(this.toStepping(t))},t.prototype.handleEntryPoint=function(t,e){if(!i(t="min"===t?0:"max"===t?100:parseFloat(t))||!i(e[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(t),this.xVal.push(e[0]),e=Number(e[1]),t?this.xSteps.push(!isNaN(e)&&e):isNaN(e)||(this.xSteps[0]=e),this.xHighestCompleteStep.push(0)},t.prototype.handleStepPoint=function(t,e){e&&(this.xVal[t]!==this.xVal[t+1]?(this.xSteps[t]=a([this.xVal[t],this.xVal[t+1]],e,0)/s(this.xPct[t],this.xPct[t+1]),e=(this.xVal[t+1]-this.xVal[t])/this.xNumSteps[t],e=Math.ceil(Number(e.toFixed(3))-1),e=this.xVal[t]+this.xNumSteps[t]*e,this.xHighestCompleteStep[t]=e):this.xSteps[t]=this.xHighestCompleteStep[t]=this.xVal[t])},t),c={to:function(t){return void 0===t?"":t.toFixed(2)},from:Number},p={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},mt={tooltips:".__tooltips",aria:".__aria"},H={__spectrum:u,cssClasses:p,create:z};ot.create=z,ot.cssClasses=p,ot["default"]=H,Object.defineProperty(ot,"__esModule",{value:!0})}),function(){var extend;extend=function(obj,mixin){var method,name;for(name in mixin)method=mixin[name],obj[name]=method;return obj},window.PulseInsightsInclude=function(klass,mixin){return extend(klass.prototype,mixin)}}.call(this),function(){window.PulseInsights=class{constructor(){this.userIsBot()?this.log(`Bot was blocked: ${navigator.userAgent}`):this.userIsOldIE()?this.log(`Old IE was blocked: ${navigator.userAgent}`):this.supportsLocalStorage()?(this.pushBeforeGetEnabled=!1,this.debugMode=!1,this.spaEnabled=!0,this.previewMode=this.isPreviewMode(),this.previewMode&&this.log("Live preview mode enabled, answers won't be posted and triggering rules ignored."),this.incrementPageviews(),this.incrementVisits(),this.installHookOnCommandsArray(),this.processPendingCommands()):this.log(`localStorage not supported: ${navigator.userAgent}`)}log(message){if(null==this.logMessages&&(this.logMessages=[]),this.logMessages.push(message),!0===this.debugMode)return console.log("Pulse Insights: "+message)}printLog(){var i,len,message,ref;for(i=0,len=(ref=this.logMessages).length;i<len;i++)message=ref[i],console.log("Pulse Insights: "+message);return!0}debug(enable){if(this.debugMode=enable,!0===this.debugMode)return this.log("Debug mode enabled.")}spa(enable){return this.spaEnabled=enable,this.isSpaEnabled()?this.log("SPA mode enabled."):this.log("SPA mode disabled.")}isSpaEnabled(){return this.spaEnabled}pushBeforeGet(enable){return this.pushBeforeGetEnabled=enable,!0===this.pushBeforeGetEnabled?this.log("Push Before Get mode enabled."):this.log("Push Before Get mode disabled.")}pushBeforeGetEnabled(){return this.pushBeforeGetEnabled}isPreviewMode(){var livePreviewIsEnabled;return"false"===(livePreviewIsEnabled=new URLSearchParams(window.location.search).get("pi_live_preview"))||"0"===livePreviewIsEnabled||"f"===livePreviewIsEnabled||"disabled"===livePreviewIsEnabled?(this.eraseCookie("pi_live_preview"),!1):"true"===livePreviewIsEnabled||"1"===livePreviewIsEnabled||"t"===livePreviewIsEnabled||"enabled"===livePreviewIsEnabled?(this.createCookie("pi_live_preview","true",20),!0):"true"===this.readCookie("pi_live_preview")}preview(enable){if(this.previewMode=enable,!0===this.previewMode)return this.log("Preview mode enabled, answers won't be posted")}poll_results_for_preview(poll_results){if(!0===this.previewMode)return this.poll_results_for_preview=poll_results}identify(identifier){return this.log(`Identifier is now set to '${identifier}'.`),this.identifier=identifier}identify_client(client_key){return this.log(`Client key is now set to '${client_key}'.`),this.updateClientKey(client_key),this.client_key=client_key}incrementPageviews(){var pageviewCount;return(pageviewCount=this.getPageviewCount())?this.updatePageviewCount(parseInt(pageviewCount,10)+1):this.updatePageviewCount(1)}incrementVisits(){var currentTimeEpoch,lastVisitEpoch,visitCount;return lastVisitEpoch=this.getVisitTrack(),currentTimeEpoch=Date.now(),"true"===lastVisitEpoch&&this.updateVisitTrack(currentTimeEpoch),this.isNewVisit(lastVisitEpoch,currentTimeEpoch)&&(this.updatePageviewCount(1),(visitCount=this.getVisitCount())?this.updateVisitCount(parseInt(visitCount,10)+1):this.updateVisitCount(1)),this.updateVisitTrack(currentTimeEpoch)}userIsBot(){return/bot|google|baidu|bing|msn|duckduckbot|teoma|slurp|yandex/i.test(navigator.userAgent)}userIsOldIE(){return document.documentMode<9}userIsIE(){return document.documentMode}}}.call(this),function(){window.Survey=class{constructor(_attributes){this.attributes=_attributes,this.started=!1,this.controlTransitionFocus=!1,this.attributes.questions&&(this.questions=this.attributes.questions)}id(){return this.attributes.id}widgetParent(){return document.getElementsByTagName("body")[0]}widgetPositioning(){return""}fontCSS(){return" font-family: Helvetica, Arial, sans-serif; font-size: 16px; font-weight: normal;"}additionalTextCss(){return'._pi_header { color: white; margin: 0; width: 100%; } ._pi_header_before { font-size: 22px; font-weight: 100; padding: 10px 0 10px; text-align: left; width: 100%; } .all-at-once ._pi_header_before { font-size: 28px; } ._pi_header_after { font-size: 14px; font-weight: 100; padding: 5px; } .all-at-once ._pi_header_after { background-color: #eeeeee; font-size: 13px; } ._pi_scale_container { color: white; width:98%; display: flex; margin: auto; padding: 5px 0; } ._pi_scale_container[data-scale-items="1"]  ._pi_scale { max-width: calc(100% / 1); } ._pi_scale_container[data-scale-items="2"]  ._pi_scale { max-width: calc(100% / 2); } ._pi_scale_container[data-scale-items="3"]  ._pi_scale { max-width: calc(100% / 3); } ._pi_scale_container[data-scale-items="4"]  ._pi_scale { max-width: calc(100% / 4); } ._pi_scale_container[data-scale-items="5"]  ._pi_scale { max-width: calc(100% / 5); } ._pi_scale_container[data-scale-items="6"]  ._pi_scale { max-width: calc(100% / 6); } ._pi_scale_container[data-scale-items="7"]  ._pi_scale { max-width: calc(100% / 7); } ._pi_scale_container[data-scale-items="8"]  ._pi_scale { max-width: calc(100% / 8); } ._pi_scale_container[data-scale-items="9"]  ._pi_scale { max-width: calc(100% / 9); } ._pi_scale_container[data-scale-items="10"] ._pi_scale { max-width: calc(100% / 10); } ._pi_scale_container[data-scale-items="11"] ._pi_scale { max-width: calc(100% / 11); } ._pi_scale { flex: 1 0 auto; } ._pi_scale_container_after { margin-bottom: 20px; } ._pi_scale_container_before { margin-top: 20px; } ._pi_scale_first  { text-align: left;     margin-right: 2px; } ._pi_scale_middle { text-align: center;   margin: 0 2px 0} ._pi_scale_last   { text-align: right;    margin-left: 2px}'}flexCssStyle(){
return" ul._pi_answers_container { list-style: none !important; display: -webkit-box !important; display: -ms-flexbox !important; display: flex !important; -webkit-box-orient: horizontal !important; -webkit-box-direction: normal !important; -ms-flex-direction: row !important; flex-direction: row !important; -ms-flex-wrap: wrap !important; flex-wrap: wrap !important; -webkit-box-align: stretch !important; -ms-flex-align: stretch !important; align-items: stretch !important; -ms-flex-line-pack: stretch !important; align-content: stretch !important; } ul._pi_answers_container li, ul._pi_answers_container li a, ul._pi_answers_container li a label, ul._pi_answers_container li label._pi-control-checkbox { cursor: pointer !important; -webkit-box-sizing: border-box; box-sizing: border-box; } ul._pi_answers_container li { text-align: inherit !important; width: auto !important; height: auto !important; overflow: hidden !important; max-width: none !important; float: none !important; padding: 0 !important; margin: 5px 0 !important; display: -webkit-box; display: -ms-flexbox; display: flex; -webkit-box-orient: horizontal; -webkit-box-direction: normal; -ms-flex-direction: row; flex-direction: row; -ms-flex-wrap: wrap; flex-wrap: wrap; -webkit-box-pack: center; -ms-flex-pack: center; justify-content: center; -webkit-box-align: stretch; -ms-flex-align: stretch; align-items: stretch; -ms-flex-line-pack: stretch; align-content: stretch; } /* ------------------------------ SINGLE CHOICE ------------------------------ */ ul._pi_answers_container li a { padding: 0 20px; height: auto; -webkit-box-flex: 0; -ms-flex-positive: 0; flex-grow: 0; -ms-flex-negative: 0; flex-shrink: 0; -ms-flex-preferred-size: 100%; flex-basis: 100%; position: static; display: -webkit-box; display: -ms-flexbox; display: flex; -webkit-box-orient: horizontal; -webkit-box-direction: normal; -ms-flex-direction: row; flex-direction: row; -ms-flex-wrap: nowrap; flex-wrap: nowrap; -webkit-box-pack: start; -ms-flex-pack: start; justify-content: flex-start; -webkit-box-align: center; -ms-flex-align: center; align-items: center; -ms-flex-line-pack: center; align-content: center; min-width: 100% !important; } /* ===================== ANSWERS CONTAINER =============================== */ /* LEGACY SCENARIOS */ div[data-answer-widths='fixed']:not([data-survey-display='all-at-once']) ul._pi_answers_container, ul[data-answer-widths='fixed'] { justify-content: flex-start; } div[data-answer-widths='variable-center']:not([data-survey-display='all-at-once']) ul._pi_answers_container, ul[data-answer-widths='variable-center'] { justify-content: center; } div[data-answer-widths='variable-left']:not([data-survey-display='all-at-once']) ul._pi_answers_container, ul[data-answer-widths='variable-left'] { justify-content: flex-start; } /* LAYOUT SCENARIOS */ div[data-answers-layout='fixed']:not([data-survey-display='all-at-once']) ul._pi_answers_container, ul[data-answers-layout='fixed'] { justify-content: flex-start; } div[data-answers-layout='variable']:not([data-survey-display='all-at-once']) ul._pi_answers_container, ul[data-answers-layout='variable'] { justify-content: center; } /* FLEX ALIGNMENT SCENARIOS */ div[data-answers-alignment='center']:not([data-survey-display='all-at-once']) ul._pi_answers_container, ul[data-answers-alignment='center'] { justify-content: center; } div[data-answers-alignment='left']:not([data-survey-display='all-at-once']) ul._pi_answers_container, ul[data-answers-alignment='left'] { justify-content: flex-start; } div[data-answers-alignment='right']:not([data-survey-display='all-at-once']) ul._pi_answers_container, ul[data-answers-alignment='right'] { justify-content: flex-end; } div[data-answers-alignment='space-between']:not([data-survey-display='all-at-once']) ul._pi_answers_container, ul[data-answers-alignment='space-between'] { justify-content: space-between; } div[data-answers-alignment='space-around']:not([data-survey-display='all-at-once']) ul._pi_answers_container, ul[data-answers-alignment='space-around'] { justify-content: space-around; } div[data-answers-alignment='space-evenly']:not([data-survey-display='all-at-once']) ul._pi_answers_container, ul[data-answers-alignment='space-evenly'] { justify-content: space-evenly; } /* ===================== LI WIDTHS AND MARGINS ========================== */ /* LI MARGINS */ div[data-answers-alignment='center']:not([data-survey-display='all-at-once']) ul._pi_answers_container li, div[data-answers-alignment='left']:not([data-survey-display='all-at-once']) ul._pi_answers_container li, div[data-answers-alignment='right']:not([data-survey-display='all-at-once']) ul._pi_answers_container li, div[data-answers-alignment='space-around']:not([data-survey-display='all-at-once']) ul._pi_answers_container li, div[data-answers-alignment='space-between']:not([data-survey-display='all-at-once']) ul._pi_answers_container li, div[data-answers-alignment='space-evenly']:not([data-survey-display='all-at-once']) ul._pi_answers_container li, ul[data-answers-alignment='center'] li, ul[data-answers-alignment='left'] li, ul[data-answers-alignment='right'] li, ul[data-answers-alignment='space-around'] li, ul[data-answers-alignment='space-between'] li, ul[data-answers-alignment='space-evenly'] li { box-sizing: border-box !important; margin: 5px 1% !important; } /* VARIABLE WIDTHS */ div[data-answers-layout='variable']:not([data-survey-display='all-at-once']) ul._pi_answers_container li, ul[data-answers-layout='variable'] li { flex-grow: 0; flex-shrink: 0; flex-basis: auto; } /* FIXED: DEFAULT: 3 PER ROW */ div[data-answers-layout='fixed']:not([data-survey-display='all-at-once']) ul._pi_answers_container li, ul[data-answers-layout='fixed'] li { flex: 0 0      calc((100% / 3) - 2%) !important; max-width:     calc((100% / 3) - 2%) !important; } /* FIXED: X ITEMS PER ROW */ div[data-answers-layout='fixed'][data-answers-per-row='1']:not([data-survey-display='all-at-once']) ul._pi_answers_container li, ul[data-answers-layout='fixed'][data-answers-per-row='1'] li { margin: 5px 7% !important; flex: 0 0 86% !important;  /* SPECIAL CASE FOR ONE ITEM PER ROW */ max-width: 86% !important; } div[data-answers-layout='fixed'][data-answers-per-row='2']:not([data-survey-display='all-at-once']) ul._pi_answers_container li, ul[data-answers-layout='fixed'][data-answers-per-row='2'] li { flex: 0 0      calc((100% / 2) - 2%) !important; max-width:     calc((100% / 2) - 2%) !important; } div[data-answers-layout='fixed'][data-answers-per-row='3']:not([data-survey-display='all-at-once']) ul._pi_answers_container li, ul[data-answers-layout='fixed'][data-answers-per-row='3'] li { flex: 0 0      calc((100% / 3) - 2%) !important; max-width:     calc((100% / 3) - 2%) !important; } div[data-answers-layout='fixed'][data-answers-per-row='4']:not([data-survey-display='all-at-once']) ul._pi_answers_container li, ul[data-answers-layout='fixed'][data-answers-per-row='4'] li { flex: 0 0      calc((100% / 4) - 2%) !important; max-width:     calc((100% / 4) - 2%) !important; } div[data-answers-layout='fixed'][data-answers-per-row='5']:not([data-survey-display='all-at-once']) ul._pi_answers_container li, ul[data-answers-layout='fixed'][data-answers-per-row='5'] li { flex: 0 0      calc((100% / 5) - 2%) !important; max-width:     calc((100% / 5) - 2%) !important; } div[data-answers-layout='fixed'][data-answers-per-row='6']:not([data-survey-display='all-at-once']) ul._pi_answers_container li, ul[data-answers-layout='fixed'][data-answers-per-row='6'] li { flex: 0 0      calc((100% / 6) - 2%) !important; max-width:     calc((100% / 6) - 2%) !important; } div[data-answers-layout='fixed'][data-answers-per-row='7']:not([data-survey-display='all-at-once']) ul._pi_answers_container li, ul[data-answers-layout='fixed'][data-answers-per-row='7'] li { flex: 0 0      calc((100% / 7) - 2%) !important; max-width:     calc((100% / 7) - 2%) !important; } div[data-answers-layout='fixed'][data-answers-per-row='8']:not([data-survey-display='all-at-once']) ul._pi_answers_container li, ul[data-answers-layout='fixed'][data-answers-per-row='8'] li { flex: 0 0      calc((100% / 8) - 2%) !important; max-width:     calc((100% / 8) - 2%) !important; } div[data-answers-layout='fixed'][data-answers-per-row='9']:not([data-survey-display='all-at-once']) ul._pi_answers_container li, ul[data-answers-layout='fixed'][data-answers-per-row='9'] li { flex: 0 0      calc((100% / 9) - 2%) !important; max-width:     calc((100% / 9) - 2%) !important; } div[data-answers-layout='fixed'][data-answers-per-row='10']:not([data-survey-display='all-at-once']) ul._pi_answers_container li, ul[data-answers-layout='fixed'][data-answers-per-row='10'] li { flex: 0 0      calc((100% / 10) - 2%) !important; max-width:     calc((100% / 10) - 2%) !important; } div[data-answers-layout='fixed'][data-answers-per-row='11']:not([data-survey-display='all-at-once']) ul._pi_answers_container li, ul[data-answers-layout='fixed'][data-answers-per-row='11'] li { flex: 0 1      calc((100% / 11) - 2%) !important; max-width:     calc((100% / 11) - 2%) !important; } div[data-answers-layout='fixed'][data-answers-per-row='12']:not([data-survey-display='all-at-once']) ul._pi_answers_container li, ul[data-answers-layout='fixed'][data-answers-per-row='12'] li { flex: 0 0      calc((100% / 12) - 2%) !important; max-width:     calc((100% / 12) - 2%) !important; }"}cssStyle(){return`#_pi_surveyWidgetContainer { z-index: 1031; } #_pi_surveyWidgetCustom { ${this.fontCSS()} position: fixed; top: 0; left: 0; padding: 0; margin: 0; width: 100%; height: 100%; z-index: 1032; -moz-transition: 0.2s; -ms-transition: 0.2s; -o-transition: 0.2s; -webkit-transition: 0.2s; transition: 0.2s; font-size: 16px; z-index: 18000; overflow: hidden; } #_pi_surveyWidget { ${this.fontCSS()} position: fixed; max-height: 0px; height: auto; width:${this.width()}; ${this.widgetPositioning()}; background-color: ${this.backgroundColor()}; text-align: center; z-index: 1032; -moz-transition: 0.2s; -ms-transition: 0.2s; -o-transition: 0.2s; -webkit-transition: 0.2s; transition: 0.2s; font-size: 16px; z-index: 18000; overflow: hidden; } ._pi_closeCustomButton { ${this.fontCSS()} position: absolute; top: 6px; right: 10px; color: #000; cursor: pointer; } ._pi_closeButton { ${this.fontCSS()} position: absolute; top: 6px; right: 10px; color: #fff; cursor: pointer; } ._pi_invitationTextContainer { ${this.fontCSS()} color: ${this.textColor()}; cursor: pointer; } ._pi_background_image { max-width: 100%; } ._pi_startButton { ${this.fontCSS()} padding: 8px 12px; background-color: black; color: white; } ._pi_startButton:hover { text-decoration: none; } ._pi_loadingSurvey, ._pi_thankYouSurvey { ${this.fontCSS()} color: ${this.textColor()}; } ._pi_pollContainer { ${this.fontCSS()} color: ${this.textColor()}; padding: 30px 0px 30px 0px; text-align: left; } ._pi_pollChoice { margin-top: 2px; margin-bottom: 2px; margin-left: 7px; overflow: hidden; position: relative; display: block; cursor: inherit; text-overflow: ellipsis; white-space: nowrap; } ._pi_pollChart { background-color: rgba(255,255,255,0.15); position: absolute; top: 0; left: 0; width: 0; height: 100%; transition: all .3s cubic-bezier(0.5,1.2,.5,1.2); opacity: 1; } ._pi_pollProgress { display: inline-block; max-width: 100%; margin-bottom: 30px; margin-left: 7px; font-size: 12px; overflow: hidden; } ._pi_pollProgressPercentage { display: inline-block; } ._pi_pollProgressCount { display: inline-block; margin-left: 5px; } ._pi_pollText { position: relative; display: inline-block; } ._pi_pollText span { vertical-align: middle; } ._pi_pollName { font-size: 14px; margin-left: 7px; } ._pi_question { ${this.fontCSS()} color: ${this.textColor()}; text-align: left; padding: 0px 20px; margin-top: 20px; } ._pi_question_custom_content_question_fullscreen { color: black; } ._pi_answers_container { margin-top: 10px; } ul._pi_answers_container, div._pi_answers_container { list-style-type: none; padding: 0px 0px 20px 0px; margin: 10px 0px; width: 100%; overflow: hidden; } ul._pi_answers_container li { background-color: rgba(255, 255, 255, 0.05); text-align: left; margin: 15px 0px; padding: 0px 20px; width: 100%; overflow: hidden; max-width: 460px; float: left; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; } ul._pi_answers_container li:hover { background-color: rgba(255, 255, 255, 0.1); } ul._pi_answers_container li a { position: relative; display: block; color: ${this.answerTextColor()}; ${this.fontCSS()} margin: 0px; padding: 0px 20px 0px 0px; text-decoration: none; } ul._pi_answers_container li a img { margin: 5px 0; } ul._pi_answers_container li a label.with-image { float: none!important; margin-left: 5px; width: auto; } ul._pi_answers_container li a label { color: ${this.answerTextColor()}; ${this.fontCSS()} width: 100%; width: -moz-calc(100% - 35px); width: -webkit-calc(100% - 35px); width: calc(100% - 35px); float: left; cursor: pointer; margin: 0px 0px 0px 25px; padding: 5px 0px 5px 0px; } ul._pi_answers_container li a span._pi_radio_button_outer { position: absolute; top: 10px; left: 0px; display: inline-block; float: left; border: 1px solid rgba(255,255,255,0.5); border-radius: 50%; width: 14px; height: 14px; } ul._pi_answers_container li a span._pi_radio_button_inner, ul._pi_answers_container li a span._pi_checkbox_inner { position: absolute; top: 2px; left: 2px; width: 8px; height: 8px; } ul._pi_answers_container li:hover a span._pi_radio_button_inner, ul._pi_answers_container li.selected a span._pi_radio_button_inner { background-color: rgba(255,255,255,0.5); border: 1px solid transparent; border-radius: 50%; } a._pi_branding { ${this.fontCSS()} color: white; font-size: 10px; position: absolute; bottom: 8px; left: 8px; } a._pi_branding:hover { ${this.fontCSS()} color: white; font-size: 10px; text-decoration: none; } div._pi_all_questions_submit_button_container { margin-bottom: 25px; clear: both; } input._pi_all_questions_submit_button { background-color: black; font-size: 15px; padding: 5px 20px; border: none; color: #eaf4fb; cursor: pointer; } input._pi_all_questions_submit_button:hover { background-color: #101010; } input._pi_all_questions_submit_button:disabled { opacity: 0.3; } input._pi_all_questions_submit_button:hover:disabled { background-color: black; opacity: 0.3; } ._pi_all_at_once_submit_error { ${this.fontCSS()}; text-align: center; font-size: 12px; color: #927a85; margin-top: 10px; } ._pi_screen_reader_only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); border: 0; } ${this.additionalTextCss()} ${this.freeTextQuestionCSS()} ${this.multipleChoicesQuestionCSS()} ${this.singleChoiceQuestionCSS()} ${this.sliderQuestionCSS()}`}borderColor(){return"rgba(174, 174, 174, 0.6);"}mobileCssStyle(){return`#_pi_surveyWidgetContainer.mobile-enabled { position: fixed; top: 0; left: 0; right: 0; bottom: 0; text-align: center; background-color: rgba(0, 0, 0, 0.5); } #_pi_surveyWidgetContainer.mobile-enabled #_pi_surveyWidget { width: 90%; position: relative; top: auto; left: auto; right: auto; bottom: auto; margin-top: 10%; margin-left: auto; margin-right: auto; border: 3px solid ${this.borderColor()}; border-radius: 5px; } #_pi_surveyWidgetContainer.mobile-enabled ._pi_closeButton { background-color: rgba(255, 255, 255, 0.1); width: 40px; height: 40px; font-size: 20px; line-height: 40px; } #_pi_surveyWidgetContainer.mobile-enabled ._pi_widgetContentContainer { margin-top: 10px; } ${this.additionalTextCss()} ${this.freeTextQuestionCSS()} ${this.multipleChoicesQuestionCSS()} ${this.singleChoiceQuestionCSS()} ${this.sliderQuestionCSS()}`}position(){return{top:""===this.attributes.top_position?null:this.attributes.top_position,bottom:""===this.attributes.bottom_position?null:this.attributes.bottom_position,left:""===this.attributes.left_position?null:this.attributes.left_position,right:""===this.attributes.right_position?null:this.attributes.right_position}}width(){return 0===this.attributes.width?"300px":this.attributes.width+"px"}height(){return"auto"}backgroundColor(){return this.attributes.background_color||"#181818"}textColor(){return this.attributes.text_color||"white"}answerTextColor(){return this.attributes.answer_text_color||"white"}invitationText(){return this.attributes.invitation||""}invitationButtonText(){return this.attributes.invitation_button||""}invitationButtonDisabled(){return this.attributes.invitation_button_disabled||"f"}thankYouText(){return this.attributes.thank_you||"Thank you!"}allAtOnceEmptyErrorEnabled(){return"t"===this.attributes.all_at_once_empty_error_enabled}isAllAtOnce(){return"t"===this.attributes.display_all_questions}log(message){return window.PulseInsightsObject.log(message)}loadQuestions(){return null!=this.questions?this.questionsLoaded(this.questions):window.PulseInsightsObject.jsonpGet(`/surveys/${this.id()}/questions`,{identifier:window.PulseInsightsObject.identifier},this.questionsLoaded)}questionsLoaded(data){var k,len,ref,survey;if((survey=window.PulseInsightsObject.survey).questions=data,"t"===survey.attributes.randomize_question_order&&survey.randomizeQuestions(survey.questions),survey.question=survey.questions[0],"f"===survey.attributes.randomize_question_order)for(k=0,len=(ref=survey.questions).length;k<len;k++)!function(q){if(q.position<survey.question.position)survey.question=q}(ref[k]);return"t"===survey.attributes.display_all_questions?survey.renderAllQuestions():survey.renderCurrentQuestion()}randomizeQuestions(questions){var i,j,k,len,ref,results,temp;for(i=questions.length-1;i>0;)j=Math.floor(Math.random()*(i+1)),"custom_content_question"!==questions[i].question_type?(temp=questions[j],questions[j]=questions[i],questions[i]=temp,i--):i--;for(i=questions.length-1,results=[];i>0;){if(null!==questions[j=i-1].next_question_id&&(questions[j].next_question_id=questions[i].id),void 0!==questions[j].possible_answers)for(k=0,len=(ref=questions[j].possible_answers).length;k<len;k++)!function(possible_answer){possible_answer.next_question_id=questions[i].id}(ref[k]);results.push(i--)}return results}isQuestionOptional(answerContainer){return"t"===answerContainer.getAttribute("data-question-optional")}getQuestionById(questionId){return this.questions.find(function(question){return question.id===parseInt(questionId)})}getPossibleAnswerByPosition(question,position){return question.possible_answers.find(function(possibleAnswer){return possibleAnswer.position===parseInt(position)})}getAnswerElement(target){var parent;if("A"===target.tagName)return target;for(parent=target;parent&&"A"!==parent.tagName;)parent=parent.parentNode;return parent}customCardClicked(event){var params,questionId,submissionUdid;return window.PulseInsightsObject.survey.next_question=this.getAttribute("data-question-id"),submissionUdid=null!=window.PulseInsightsObject.submission?window.PulseInsightsObject.submission.udid:null,questionId=window.PulseInsightsObject.survey.question.id,params={identifier:window.PulseInsightsObject.identifier,question_id:questionId,next_question_id:this.getAttribute("data-question-id")},null!=window.PulseInsightsObject.customData&&(params.custom_data=window.PulseInsightsObject.stringify(window.PulseInsightsObject.customData)),window.PulseInsightsObject.client_key&&(params.client_key=window.PulseInsightsObject.getClientKey()),window.PulseInsightsObject.previewMode?(window.PulseInsightsObject.survey.customAnswersSubmitted(),!1):(window.PulseInsightsObject.jsonpGet(`/submissions/${submissionUdid}/answer`,params,window.PulseInsightsObject.survey.customAnswersSubmitted),!1)}allQuestionsSubmitClicked(event){var answerContainer,k,len,params,ref,submissionUdid,survey;if(event.preventDefault(),event.stopPropagation(),(survey=window.PulseInsightsObject.survey).allAtOnceEmptyErrorEnabled()&&(survey.checkEmptyAnswers(),survey.focusOnFirstInvalidAnswer()),!survey.allSubmitButton.getAttribute("data-submit-error")){for(survey.answers=[],k=0,len=(ref=document.querySelectorAll("._pi_answers_container")).length;k<len;k++)answerContainer=ref[k],survey.answerIsInvalid(answerContainer)||survey.storeAnswer(answerContainer);return params={identifier:window.PulseInsightsObject.identifier,answers:JSON.stringify(survey.answers)},null!=window.PulseInsightsObject.customData&&(params.custom_data=window.PulseInsightsObject.stringify(window.PulseInsightsObject.customData)),window.PulseInsightsObject.client_key&&(params.client_key=window.PulseInsightsObject.getClientKey()),submissionUdid=null!=window.PulseInsightsObject.submission?window.PulseInsightsObject.submission.udid:null,window.PulseInsightsObject.previewMode?params.preview_mode=!0:window.PulseInsightsObject.triggerOnAnswerCallback(event),window.PulseInsightsObject.jsonpGet(`/submissions/${submissionUdid}/all_answers`,params,window.PulseInsightsObject.survey.allAnswersSubmitted),!1}survey.allSubmitButtonError.innerHTML=survey.escapeText(survey.attributes.all_at_once_error_text)}checkEmptyAnswers(){var answerContainer,k,len,ref,results,survey;for(survey=window.PulseInsightsObject.survey,results=[],k=0,len=(ref=document.querySelectorAll("._pi_answers_container")).length;k<len;k++)answerContainer=ref[k],survey.answerIsEmpty(answerContainer)?(survey.addEmptyAnswerAlert(answerContainer),results.push(survey.setAriaInvalid(answerContainer))):results.push(void 0);return results}addEmptyAnswerAlert(answerContainer){var survey;switch(survey=window.PulseInsightsObject.survey,answerContainer.getAttribute("data-question-type")){case"free_text_question":return survey.addFreeTextEmptyAnswerAlert(answerContainer);case"multiple_choices_question":return survey.addMultipleChoiceEmptyAnswerAlert(answerContainer);case"single_choice_question":return survey.addSingleChoiceEmptyAnswerAlert(answerContainer);case"slider_question":return survey.addAllAtOnceEmptyAnswerAlertForSlider(answerContainer)}}setAriaInvalid(answerContainer){var survey;switch(survey=window.PulseInsightsObject.survey,answerContainer.getAttribute("data-question-type")){case"free_text_question":return survey.setFreeTextAriaInvalid(answerContainer);case"multiple_choices_question":return survey.setMultipleChoicesAriaInvalid(answerContainer,"true");case"single_choice_question":return survey.setSingleChoiceAriaInvalid(answerContainer);case"slider_question":return survey.setSliderAriaInvalid(answerContainer)}}focusOnFirstInvalidAnswer(){var ariaInvalidElement;if(ariaInvalidElement=document.querySelector("#_pi_surveyWidget > div._pi_widgetContentContainer").querySelector('[aria-invalid="true"]'))return ariaInvalidElement.focus()}storeAnswer(answerContainer){return window.PulseInsightsObject.survey.answers.push({question_id:answerContainer.getAttribute("data-question-id"),question_type:answerContainer.getAttribute("data-question-type"),answer:answerContainer.getAttribute("data-answer"),answer_content:answerContainer.getAttribute("data-answer-content")})}checkSubmissionCompleteness(answerContainer){var k,len,ref,submissionCompleteness,survey;for((survey=window.PulseInsightsObject.survey).answerIsInvalid(answerContainer)&&answerContainer.setAttribute("data-submit-error",!0),submissionCompleteness=!0,k=0,len=(ref=document.querySelectorAll("._pi_answers_container")).length;k<len;k++)if(answerContainer=ref[k],survey.answerIsInvalid(answerContainer)){submissionCompleteness=!1;break}return submissionCompleteness?(survey.allSubmitButtonError.innerHTML="",survey.allSubmitButton.removeAttribute("data-submit-error")):survey.allSubmitButton.setAttribute("data-submit-error",!0)}answerIsInvalid(answerContainer){var survey;return(survey=window.PulseInsightsObject.survey).answerIsEmpty(answerContainer)||survey.answerContainsBannedData(answerContainer)||survey.answerCountExcessive(answerContainer)}answerIsEmpty(answerContainer){return(null===answerContainer.getAttribute("data-answer")||""===answerContainer.getAttribute("data-answer"))&&"f"===answerContainer.getAttribute("data-question-optional")}answerContainsBannedData(answerContainer){return"free_text_question"===answerContainer.getAttribute("data-question-type")&&this.personalDataMaskingEnabled()&&this.detectPersonalData(answerContainer.getAttribute("data-answer"))}answerCountExcessive(answerContainer){var q,question,questionId;return"multiple_choices_question"===answerContainer.getAttribute("data-question-type")&&(questionId=answerContainer.getAttribute("data-question-id"),null!=(question=function(){var k,len,ref,results;for(results=[],k=0,len=(ref=this.questions).length;k<len;k++)(q=ref[k]).id===parseInt(questionId)&&results.push(q);return results}.call(this)[0]).maximum_selection&&answerContainer.getAttribute("data-answer").split(",").length>question.maximum_selection)}setControlTransitionFocus(newValue){return this.controlTransitionFocus=newValue}shouldControlFocus(event){return!!window.PulseInsightsObject.isAndroid()||0===event.detail}answerClicked(event){var answerContainer,answerContent,answerId,getAnswerContainer,getAnswerContent,params,questionId,questionType,submissionUdid;return event.stopPropagation(),window.PulseInsightsObject.survey.setControlTransitionFocus(window.PulseInsightsObject.survey.shouldControlFocus(event)),getAnswerContent=(questionType=>{var selectTag;return"_pi_select"===questionType?(selectTag=event.target).options[selectTag.selectedIndex].text:this.text}),getAnswerContainer=(questionType=>"_pi_select"===questionType?event.target.parentNode:this.parentNode.parentNode),answerId=(questionType=>{return"_pi_select"===questionType?event.target.value:window.PulseInsightsObject.survey.getAnswerElement(event.target).getAttribute("data-answer-id")})(questionType=event.target.getAttribute("class")),answerContent=getAnswerContent(questionType),(answerContainer=getAnswerContainer(questionType)).setAttribute("data-answer",answerId),answerContainer.setAttribute("data-answer-content",answerContent),window.PulseInsightsObject.survey.answerId=answerId,submissionUdid=null!=window.PulseInsightsObject.submission?window.PulseInsightsObject.submission.udid:null,questionId=window.PulseInsightsObject.survey.question.id,params={identifier:window.PulseInsightsObject.identifier,question_id:questionId,answer_id:answerId,submission:JSON.stringify(window.PulseInsightsObject.submission),device_udid:window.PulseInsightsObject.udid},null!=window.PulseInsightsObject.customData&&(params.custom_data=window.PulseInsightsObject.stringify(window.PulseInsightsObject.customData)),window.PulseInsightsObject.client_key&&(params.client_key=window.PulseInsightsObject.getClientKey()),window.PulseInsightsObject.previewMode?params.preview_mode=!0:window.PulseInsightsObject.triggerOnAnswerCallback(event),window.PulseInsightsObject.jsonpGet(`/submissions/${submissionUdid}/answer`,params,window.PulseInsightsObject.survey.answersSubmitted),!1}customAnswersSubmitted(data){return window.PulseInsightsObject.survey.goToNextQuestion()}answersSubmitted(data){return window.PulseInsightsObject.survey.goToNextQuestionOrThankYou(data)}allAnswersSubmitted(data){return window.PulseInsightsObject.survey.thankYouOrResults(data)}thankYouOrResults(data){return this.renderThankYou()}goToNextQuestion(){var nextQuestion,nextQuestionId,q;nextQuestionId=window.PulseInsightsObject.survey.next_question,nextQuestion=function(){var k,len,ref,results;for(results=[],k=0,len=(ref=this.questions).length;k<len;k++)(q=ref[k]).id===parseInt(nextQuestionId)&&results.push(q);return results}.call(this)[0],this.question=nextQuestion,this.renderCurrentQuestion()}goToNextQuestionOrThankYou(data){var answer,multi_choice_other,nextQuestion,pa,possibleAnswer,q,ref;return("single_choice_question"!==(ref=this.question.question_type)&&"slider_question"!==ref||(possibleAnswer=function(){var k,len,ref1,results;for(results=[],k=0,len=(ref1=this.question.possible_answers).length;k<len;k++)(pa=ref1[k]).id===parseInt(this.answerId)&&results.push(pa);return results}.call(this)[0],null==this.answers&&(this.answers=[]),this.answers.push(possibleAnswer),null==possibleAnswer.next_question_id||null==(nextQuestion=function(){var k,len,ref1,results;for(results=[],k=0,len=(ref1=this.questions).length;k<len;k++)(q=ref1[k]).id===possibleAnswer.next_question_id&&results.push(q);return results}.call(this)[0])))&&("free_text_question"!==this.question.question_type&&"multiple_choices_question"!==this.question.question_type||(answer={},"free_text_question"===this.question.question_type?null!=window.PulseInsightsObject.survey.textInput&&(answer.content=window.PulseInsightsObject.survey.textInput.value):(answer.content=PulseInsightsObject.survey.multipleChoiceAnswerIds(this.question.id),multi_choice_other=this.question.possible_answers.slice(-1)[0]),PulseInsightsObject.survey.multiChoiceOtherResponseHasFollowUp(multi_choice_other,answer)?answer.next_question_id=multi_choice_other.next_question_id:PulseInsightsObject.survey.multiChoiceQuestionHasFollowUp(this.question)&&(answer.next_question_id=this.question.next_question_id),null==this.answers&&(this.answers=[]),answer.content&&this.answers.push(answer),null==answer.next_question_id||null==(nextQuestion=function(){var k,len,ref1,results;for(results=[],k=0,len=(ref1=this.questions).length;k<len;k++)(q=ref1[k]).id===answer.next_question_id&&results.push(q);return results}.call(this)[0])))?(window.PulseInsightsObject.triggerOnCompleteCallback(),null!=data&&Object.keys(data).length>0&&data.constructor===Array?this.renderResults(data):this.renderThankYou()):(this.question=nextQuestion,void this.renderCurrentQuestion())}multiChoiceOtherResponseHasFollowUp(multi_choice_other,answer){return null!=multi_choice_other&&null!=multi_choice_other.next_question_id&&0!==multi_choice_other.next_question_id&&answer.content.includes(multi_choice_other.id.toString())}multiChoiceQuestionHasFollowUp(question){return null!=question.next_question_id&&0!==question.next_question_id}startButtonClickedEvent(e){var survey;return e.stopPropagation(),null==this.started&&(this.started=!0,(survey=window.PulseInsightsObject.survey).startButtonClicked.apply(survey,[]),!1)}startButtonClicked(){return this.widgetContent.innerHTML="<div class='_pi_loadingSurvey'>Loading...</div>",this.loadQuestions()}widgetContainerClickedEvent(e){return e.stopPropagation()}submitSurveyClosed(){var submissionUdid;if(window.PulseInsightsObject.submission)return submissionUdid=window.PulseInsightsObject.submission.udid,window.PulseInsightsObject.jsonpGet(`/submissions/${submissionUdid}/close`,{},window.PulseInsightsObject.survey.surveyClosed)}closeButtonClickedEvent(e){var survey;return void 0!==e&&e.stopPropagation(),(survey=window.PulseInsightsObject.survey).submitSurveyClosed.apply(survey,[]),survey.closeButtonClicked.apply(survey,[e]),!1}surveyClosed(data){return this.log("Survey closed")}closeButtonClicked(event){return"none defined"===window.PulseInsightsObject.triggerOnCloseCallback(event)&&window.PulseInsightsObject.triggerOnCompleteCallback(),this.tearDownWidget()}tearDownWidget(msToClose=200){var container;if(null!=this.widget&&null!=this.widgetContainer)return this.widget.setAttribute("style","max-height: 0px"),container=this.widgetContainer,setTimeout(function(){var answers_container,branding,question,widgetContentContainer;if(container.setAttribute("style","display: none;"),widgetContentContainer=document.querySelector("#_pi_surveyWidget > div._pi_widgetContentContainer"),question=document.querySelector("#_pi_surveyWidget > div._pi_widgetContentContainer > div._pi_question"),answers_container=document.querySelector("#_pi_surveyWidget > div._pi_widgetContentContainer > ul._pi_answers_container"),branding=document.querySelector("#_pi_surveyWidget > a._pi_branding"),null!=widgetContentContainer&&(widgetContentContainer.style="display: none;"),null!=question&&(question.style="display: none;"),null!=answers_container&&(answers_container.style="display: none;"),null!=branding)return branding.style="display: none;"},msToClose),!1}destroy(){var body,css,k,len,ref,results;for(this.tearDownWidget(0),null!=this.widgetContainer&&null!==document.getElementById(this.widgetContainer.id)&&this.widgetContainer.remove(),body=document.getElementsByTagName("body")[0],results=[],k=0,len=(ref=document.querySelectorAll(`style.survey-${this.id()}`)).length;k<len;k++)css=ref[k],results.push(body.removeChild(css));return results}}}.call(this),function(){window.PulseInsightsInclude.initializeSinglePageApp=function(){var existing_onhashchange,history,pushState;if(history=window.history,pushState=history.pushState,history.pushState=function(state){return"function"==typeof history.onpushstate&&history.onpushstate({state:state}),window.PulseInsightsObject.pushBeforeGetEnabled?(pushState.apply(history,arguments),
window.PulseInsightsObject.isSpaEnabled()?(pi("get","surveys"),window.PulseInsightsObject.log(`pushState with new URL ${window.location.href}`),window.PulseInsightsObject.incrementPageviews()):void 0):(window.PulseInsightsObject.isSpaEnabled()&&(pi("get","surveys"),window.PulseInsightsObject.log(`pushState with new URL ${window.location.href}`),window.PulseInsightsObject.incrementPageviews()),pushState.apply(history,arguments))},"onhashchange"in window)return window.onhashchange&&(existing_onhashchange=window.onhashchange),window.onhashchange=function(){window.PulseInsightsObject.isSpaEnabled()&&(pi("get","surveys"),window.PulseInsightsObject.log(`onhashchange with new URL ${window.location.href}`),window.PulseInsightsObject.incrementPageviews()),existing_onhashchange&&existing_onhashchange()}}}.call(this),function(){window.BarSurvey=class extends window.Survey{height(){return"auto"}width(){return"100%"}cssStyle(){return super.cssStyle()+`._pi_invitationTextContainer { margin: 10px 20px; display: inline-block; } ._pi_startButton { display: inline-block; margin-top: 5px; } ._pi_loadingSurvey, ._pi_thankYouSurvey { ${this.fontCSS()} color: ${this.textColor()}; margin: 50px 0px 80px 0px; text-align: center; } ._pi_surveyWidget { text-align: center; height: auto; } ._pi_widgetContentContainer { margin-left: auto; margin-right: auto; width: 960px; text-align: center; } ._pi_closeButton { padding: 8px; } @media screen and (max-width: 960px) { ._pi_widgetContentContainer { width: 100%; } }`}}}.call(this),function(){window.BottomBarSurvey=class extends window.BarSurvey{widgetType(){return"bottombarsurvey"}widgetPositioning(){return"bottom: 0px; left: 0px; right: 0px;"}}}.call(this),function(){window.PulseInsightsInclude(window.PulseInsights,{onclose:function(callbackFunction){return this.log("Onclose Callback function enabled."),this.OncloseCallbackFunction=callbackFunction},oncomplete:function(callbackFunction){return this.log("Oncomplete Callback function enabled."),this.OncompleteCallbackFunction=callbackFunction},onanswer:function(callbackFunction){return this.log("Onanswer Callback function enabled."),this.OnanswerCallbackFunction=callbackFunction},onimpression:function(callbackFunction){return this.log("Onimpression Callback function enabled."),this.OnimpressionCallbackFunction=callbackFunction},onview:function(callbackFunction){return this.log("Onview Callback function enabled."),this.OnviewCallbackFunction=callbackFunction},onclick:function(callbackFunction){return this.log("Onclick Callback function enabled."),this.OnclickCallbackFunction=callbackFunction},triggerOnCloseCallback:function(event){var error,survey;if(this.log("Try to trigger onclose callbacks."),null!=this.OncloseCallbackFunction&&(this.log("Triggering custom onclose callback"),this.OncloseCallbackFunction.apply(this,[this.survey,event]),this.OncloseCallbackFunction=null),null==this.survey.attributes.onclose_callback_code||0===this.survey.attributes.onclose_callback_code.length)return this.log("No onclose callbacks defined in console"),"none defined";if(null==this.survey.onclose_callback_executed){this.log("Triggering on close callback set in console");try{survey=this.survey,eval(this.survey.attributes.onclose_callback_code)}catch(error1){error=error1,this.log("Error while executing on close callback: "+error)}return this.survey.onclose_callback_executed=!0}this.log("onclose callback already executed")},triggerOnCompleteCallback:function(){var error,survey;if(this.log("Try to trigger on complete callbacks."),null!=this.OncompleteCallbackFunction&&null!=this.survey.answers&&this.survey.answers.length>0&&(this.log("Triggering custom on complete callback"),this.OncompleteCallbackFunction.apply(this,[this.survey]),this.OncompleteCallbackFunction=null),null!=this.survey.attributes.oncomplete_callback_code&&0!==this.survey.attributes.oncomplete_callback_code.length&&null==this.survey.oncomplete_callback_executed){if(null!=this.survey.answers&&0!==this.survey.answers.length){this.log("Triggering on complete callback set in console");try{survey=this.survey,eval(this.survey.attributes.oncomplete_callback_code)}catch(error1){error=error1,this.log("Error while executing on complete callback: "+error)}return this.survey.oncomplete_callback_executed=!0}this.log("No oncomplete callbacks fired when closing the survey without answer")}else this.log("No oncomplete callbacks defined in console")},triggerOnAnswerCallback:function(event){var answer,answerId,error,i,j,len,len1,possibleAnswer,possible_answer,question,ref,ref1,survey;if(this.log("Try to trigger on answer callbacks."),null!=this.OnanswerCallbackFunction&&null!=this.survey.answers&&this.survey.answers.length>0&&(this.log("Triggering custom on answer callback"),this.OnanswerCallbackFunction.apply(this,[this.survey,event]),this.OnanswerCallbackFunction=null),null!=this.survey.attributes.onanswer_callback_code&&0!==this.survey.attributes.onanswer_callback_code.length){this.log("Triggering on answer callback set in console");try{if(survey=this.survey,question=this.survey.question,"free_text_question"===this.survey.question.question_type&&(answer={id:null,content:this.survey.textInput.value,next_question_id:this.survey.question.next_question_id}),"multiple_choices_question"===this.survey.question.question_type)for(answer={id:[],content:[],next_question_id:[]},ref=survey.multipleChoiceAnswerIds(question.id),i=0,len=ref.length;i<len;i++)answerId=ref[i],possibleAnswer=question.possible_answers.find(possibleAnswer=>possibleAnswer.id===parseInt(answerId)),answer.content.push(possibleAnswer.content),answer.id.push(possibleAnswer.id),answer.next_question_id.push(possibleAnswer.next_question_id);if("single_choice_question"===this.survey.question.question_type)for(ref1=this.survey.question.possible_answers,j=0,len1=ref1.length;j<len1;j++)possible_answer=ref1[j],possible_answer.id===parseInt(this.survey.answerId)&&(answer=possible_answer);return eval(this.survey.attributes.onanswer_callback_code)}catch(error1){return error=error1,this.log("Error while executing on answer callback: "+error)}}else this.log("No answer callbacks defined in console")},triggerOnImpressionCallback:function(){var error;if(this.log("Try to trigger onimpression callback (Custom Data Snippet)"),null!=this.OnimpressionCallbackFunction&&(this.log("Triggering custom onimpression callback"),this.OnimpressionCallbackFunction.apply(this,[this.survey]),this.OnimpressionCallbackFunction=null),null!=this.survey.attributes.custom_data_snippet&&0!==this.survey.attributes.custom_data_snippet.length){if(null==this.survey.onimpression_callback_executed){this.log("Triggering onimpression callback set in console");try{eval(this.survey.attributes.custom_data_snippet)}catch(error1){error=error1,this.log("Error while executing onimpression callback (custom data snippet): "+error)}return this.survey.onimpression_callback_executed=!0}this.log("Onimpression callback already executed")}else this.log("No onimpression callback set in console")},triggerOnViewCallback:function(){var error;if(this.log("Try to trigger onview callback"),null!=this.OnviewCallbackFunction&&(this.log("Triggering custom onview callback"),this.OnviewCallbackFunction.apply(this,[this.survey]),this.OnviewCallbackFunction=null),null!=this.survey.attributes.onview_callback_code&&0!==this.survey.attributes.onview_callback_code.length){if(null==this.survey.onview_callback_executed){this.log("Triggering onview callback set in console");try{eval(this.survey.attributes.onview_callback_code)}catch(error1){error=error1,this.log("Error while executing onview callback: "+error)}return this.survey.onview_callback_executed=!0}this.log("Onview callback already executed")}else this.log("No onview callback set in console")},triggerOnClickCallback:function(event){var error;if(this.log("Try to trigger onclick callback"),null!=this.OnclickCallbackFunction&&(this.log("Triggering custom onclick callback"),this.OnclickCallbackFunction.apply(this,[this.survey,event]),this.OnclickCallbackFunction=null),null!=this.survey.attributes.onclick_callback_code&&0!==this.survey.attributes.onclick_callback_code.length){this.log("Triggering onclick callback set in console");try{return eval(this.survey.attributes.onclick_callback_code)}catch(error1){return error=error1,this.log("Error while executing onclick callback: "+error)}}else this.log("No onclick callback set in console")}})}.call(this),function(){window.PulseInsightsInclude(window.PulseInsights,{installHookOnCommandsArray:function(){if(this.log("Installing hook on commands array"),window.pi&&window.pi.commands&&(window.pi.commands.push=function(){var args,i,len,results;for(results=[],i=0,len=arguments.length;i<len;i++)args=arguments[i],results.push(window.PulseInsightsObject.processCommand(args));return results}),window.pulseinsights&&window.pulseinsights.commands)return window.pulseinsights.commands.push=function(){var args,i,len,results;for(results=[],i=0,len=arguments.length;i<len;i++)args=arguments[i],results.push(window.PulseInsightsObject.processCommand(args));return results}},processPendingCommands:function(){var command,results;if(window.pi&&window.pi.commands)for(this.log(`Processing ${window.pi.commands.length} commands that are pending`);command=window.pi.commands.shift();)this.processCommand(command);if(window.pulseinsights&&window.pulseinsights.commands){for(this.log(`Processing ${window.pulseinsights.commands.length} commands that are pending`),results=[];command=window.pulseinsights.commands.shift();)results.push(this.processCommand(command));return results}},processCommand:function(args){var argumentsArray,error,theFunction;if(argumentsArray=[].slice.call(args),void 0!==(theFunction=this.getFunction(argumentsArray[0])))try{return theFunction.apply(this,argumentsArray.slice(1))}catch(error1){return error=error1,this.log("Error while executing command: "+error)}else this.log(`Unknown command: ${argumentsArray[0]}`)},getFunction:function(functionName){return{debug:this.debug,get:this.get,host:this.host,identify:this.identify,identify_client:this.identify_client,onanswer:this.onanswer,oncomplete:this.oncomplete,onclose:this.onclose,onimpression:this.onimpression,onview:this.onview,onclick:this.onclick,present:this.present,present_poll:this.present_poll,present_results:this.present_results,preview:this.preview,set_custom_data:this.set_custom_data,set_context_data:this.set_context_data,set_device_data:this.set_device_data,spa:this.spa,visitor_tracking:this.visitor_tracking,pushBeforeGet:this.pushBeforeGet,track_event:this.trackEvent}[functionName]}})}.call(this),function(){window.PulseInsightsInclude(window.PulseInsights,{logCustomContentLinkClick:function(questionId,linkIdentifier){return this.jsonpGet("/custom_content_link_click",this.customContentLinkClickParameters(questionId,linkIdentifier),this.customContentLinkClickCallback)},customContentLinkClickParameters:function(questionId,linkIdentifier){return{submission_udid:this.submission.udid,question_id:questionId,link_identifier:linkIdentifier,client_key:this.getClientKey(),custom_data:window.PulseInsightsObject.stringify(this.customData)}},customContentLinkClickCallback:function(){return this.log("Logged a custom content link click")}})}.call(this),function(){window.PulseInsightsInclude(window.PulseInsights,{set_custom_data:function(object){if("object"!=typeof object&&(object={data:object}),this.checkCustomDataSizeLimit(object))return this.log("Received custom data object."),this.customData=object;throw"Custom data too large - 1000 characters maximum."},set_context_data:function(object){return this.set_custom_data(object)},checkCustomDataSizeLimit:function(data){var key,params,value;for(key in params=[],data)value=data[key],function(key){params.push(key+"="+encodeURIComponent(value))}(key);return params.join("&").length<1e3}})}.call(this),function(){window.PulseInsightsInclude(window.PulseInsights,{executeCustomDataSnippet:function(){return this.log("Executing Custom Data Snippet."),this.log("This function is deprecated. Please use 'onimpression' instead."),window.PulseInsightsObject.triggerOnImpressionCallback()}})}.call(this),window.PulseInsightsInclude.debounce=function(func,wait){let timeout;return function(...args){const later=()=>{timeout=null,func(...args)};clearTimeout(timeout),timeout=setTimeout(later,wait)}},function(){window.PulseInsightsInclude(window.PulseInsights,{set_device_data:function(object){var attrname;if("object"!=typeof object&&(object={data:object}),this.device_data)for(attrname in object)this.device_data[attrname]=object[attrname];else for(attrname in this.device_data={},object)"identifier"!==attrname&&"callback"!==attrname&&(this.device_data[attrname]=object[attrname]);if(object.identifier=this.identifier,this.checkCustomDataSizeLimit(object))return this.jsonpGet(`/devices/${this.getUDID()}/set_data`,object,this.deviceDataSent),this.log("Received custom data object.");throw"Custom data too large - 1000 characters maximum."},deviceDataSent:function(){return this.log("Device data sent")},checkCustomDataSizeLimit:function(data){var key,params,value;for(key in params=[],data)value=data[key],function(key){params.push(key+"="+encodeURIComponent(value))}(key);return params.join("&").length<1e3}})}.call(this),function(){window.PulseInsightsInclude(window.PulseInsights,{deviceType:function(){return this.isTablet()?"tablet":this.isMobile()?"mobile":"desktop"},userAgent:function(){return navigator.userAgent||navigator.vendor||window.opera},isAndroid:function(){return this.userAgent().toLowerCase().indexOf("android")>-1},isMobile:function(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(this.userAgent())||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(this.userAgent().substr(0,4))},isTablet:function(){return/iPad/.test(this.userAgent())||this.isMobile()&&document.width>1008}})}.call(this),function(){window.DockedWidgetSurvey=class extends window.Survey{widgetType(){return"dockedwidgetsurvey"}widgetPositioning(){return null!=this.position().right?`right: ${this.position().right}`:`left: ${this.position().left}`}cssStyle(){return super.cssStyle()+`#_pi_surveyWidget { border-top: 3px solid ${this.borderColor()}; border-left: 3px solid ${this.borderColor()}; border-right: 3px solid ${this.borderColor()}; border-radius: 5px; bottom: -3px; } ._pi_invitationTextContainer { margin: 30px 0px; } ._pi_startButton { display: block; width: 50%; margin-top: 30px; margin-left: auto; margin-right: auto; margin-bottom: 60px; text-decoration: none; } ._pi_loadingSurvey, ._pi_thankYouSurvey { ${this.fontCSS()} color: ${this.textColor()}; margin: 50px 0px 80px 0px; }`}}}.call(this),function(){window.PulseInsightsInclude(window.Survey,{renderFreeTextQuestion:function(possibleAnswersContainer,display_all_question=!1){var addFocusClass,removeFocusClass,submitButtonContainer;if(this.textInputContainer=document.createElement("div"),this.textInputContainer.setAttribute("class","_pi_free_text_question_field_container"),this.maxLength=this.question.max_length,this.question.height<2?(this.textInput=document.createElement("input"),this.textInput.setAttribute("type","text")):(this.textInput=document.createElement("textarea"),this.textInput.setAttribute("rows",this.question.height),this.textInput.setAttribute("cols",20)),this.textInput.setAttribute("class","_pi_free_text_question_field"),this.textInput.setAttribute("maxlength",this.maxLength),this.textInput.setAttribute("placeholder",this.question.hint_text),this.textInput.setAttribute("data-max-length",this.question.max_length),this.textInput.setAttribute("aria-labelledby",`_pi_question_${this.question.id}`),"f"===this.question.optional&&this.textInput.setAttribute("aria-required","true"),this.textInput.setAttribute("aria-describedby",this.freeTextAriaDescribedByIds(this.question.id)),this.labelContainer=document.createElement("div"),this.labelContainer.setAttribute("class","_pi_free_text_question_label_container"),this.personalDataAlertLabel=document.createElement("div"),this.personalDataAlertLabel.setAttribute("data-alert-text",this.question.error_text),this.personalDataAlertLabel.setAttribute("id",`_pi_question_${this.question.id}_personal_data_alert`),this.personalDataAlertLabel.setAttribute("class","_pi_free_text_question_personal_data_alert"),this.charactersCountLabel=document.createElement("div"),this.charactersCountLabel.setAttribute("class","_pi_free_text_question_characters_count"),this.screenReaderCharactersCountLabel=document.createElement("div"),this.screenReaderCharactersCountLabel.setAttribute("id","_pi_free_text_question_screen_reader_characters_count"),this.screenReaderCharactersCountLabel.setAttribute("class","_pi_screen_reader_only"),this.screenReaderCharactersCountLabel.setAttribute("aria-live","polite"),this.screenReaderCharactersCountLabel.setAttribute("aria-atomic","true"),possibleAnswersContainer.appendChild(this.textInputContainer),this.textInputContainer.appendChild(this.textInput),this.textInputContainer.appendChild(this.labelContainer),this.isAllAtOnce()&&this.allAtOnceEmptyErrorEnabled()?(this.alertLabelContainer=document.createElement("div"),this.alertLabelContainer.setAttribute("class","_pi_free_text_question_alert_label_container"),this.emptyAnswerAlertLabel=document.createElement("div"),this.emptyAnswerAlertLabel.setAttribute("data-alert-text",this.question.empty_error_text),this.emptyAnswerAlertLabel.setAttribute("class","_pi_free_text_question_empty_answer_alert"),this.emptyAnswerAlertLabel.setAttribute("id",`_pi_question_${this.question.id}_empty_answer_alert`),this.alertLabelContainer.appendChild(this.emptyAnswerAlertLabel),this.alertLabelContainer.appendChild(this.personalDataAlertLabel),this.labelContainer.appendChild(this.alertLabelContainer),this.labelContainer.appendChild(this.charactersCountLabel),this.labelContainer.appendChild(this.screenReaderCharactersCountLabel)):(this.labelContainer.appendChild(this.personalDataAlertLabel),this.labelContainer.appendChild(this.charactersCountLabel),this.labelContainer.appendChild(this.screenReaderCharactersCountLabel)),this.installEventOnFreeTextInput(this.textInput),(submitButtonContainer=document.createElement("div")).setAttribute("class","_pi_free_text_question_submit_button_container"),this.submitButton=document.createElement("input"),display_all_question||(this.submitButton.setAttribute("class","_pi_free_text_question_submit_button"),this.submitButton.setAttribute("type","submit"),this.submitButton.setAttribute("value",this.question.submit_label||"Submit"),this.submitButton.onclick=window.PulseInsightsObject.survey.freeTextSubmitClicked,submitButtonContainer.appendChild(this.submitButton)),possibleAnswersContainer.appendChild(submitButtonContainer),this.updateCharactersCountLabel(this.textInput),addFocusClass=function(){var classes;return classes=window.PulseInsightsObject.survey.widgetContainer.getAttribute("class"),classes+=" text-input-focus",window.PulseInsightsObject.survey.widgetContainer.setAttribute("class",classes)},removeFocusClass=function(){var classes;return classes=(classes=window.PulseInsightsObject.survey.widgetContainer.getAttribute("class")).replace("text-input-focus",""),window.PulseInsightsObject.survey.widgetContainer.setAttribute("class",classes)},this.textInput.addEventListener("focus",addFocusClass),this.textInput.addEventListener("blur",removeFocusClass),this.isAllAtOnce()&&this.allAtOnceEmptyErrorEnabled()&&"f"===this.question.optional&&this.textInput.addEventListener("keyup",function(){return window.PulseInsightsObject.survey.removeFreeTextEmptyAnswerAlert(this)}),this.personalDataMaskingEnabled())return this.textInput.addEventListener("keyup",function(){return window.PulseInsightsObject.survey.togglePersonalDataAlert(this)})},installEventOnFreeTextInput:function(input){var textInputChanged,textInputChangedForScreenReader;return textInputChanged=window.PulseInsightsObject.survey.textInputChanged,textInputChangedForScreenReader=window.PulseInsightsInclude.debounce(window.PulseInsightsObject.survey.textInputChangedForScreenReader,2e3),input.addEventListener?(input.addEventListener("keypress",textInputChanged),input.addEventListener("keypress",textInputChangedForScreenReader),input.addEventListener("keyup",textInputChanged),input.addEventListener("keyup",textInputChangedForScreenReader)):input.attachEvent?(input.attachEvent("onkeypress",textInputChanged),input.attachEvent("onkeypress",textInputChangedForScreenReader),input.attachEvent("onkeyup",textInputChanged),input.attachEvent("onkeyup",textInputChangedForScreenReader)):(input.onkeypress=textInputChanged,input.onkeypress=textInputChangedForScreenReader,input.onkeyup=textInputChanged,input.onkeyup=textInputChangedForScreenReader)},freeTextSubmitClicked:function(event){var params,questionId,submissionUdid,textAnswer;return window.PulseInsightsObject.survey.setControlTransitionFocus(window.PulseInsightsObject.survey.shouldControlFocus(event)),textAnswer=window.PulseInsightsObject.survey.textInput.value,questionId=window.PulseInsightsObject.survey.question.id,params={identifier:window.PulseInsightsObject.identifier,question_id:questionId,text_answer:textAnswer},submissionUdid=null!=window.PulseInsightsObject.submission?window.PulseInsightsObject.submission.udid:null,null!=window.PulseInsightsObject.customData&&(params.custom_data=window.PulseInsightsObject.stringify(window.PulseInsightsObject.customData)),window.PulseInsightsObject.client_key&&(params.client_key=window.PulseInsightsObject.getClientKey()),window.PulseInsightsObject.previewMode||0===textAnswer.length?(window.PulseInsightsObject.survey.answersSubmitted(),!1):(window.PulseInsightsObject.triggerOnAnswerCallback(event),window.PulseInsightsObject.jsonpGet(`/submissions/${submissionUdid}/answer`,params,window.PulseInsightsObject.survey.answersSubmitted),!1)},textInputChanged:function(event){var survey;return(survey=window.PulseInsightsObject.survey).updateCharactersCountLabel.apply(survey,[event.target])},textInputChangedForScreenReader:function(event){var survey;return(survey=window.PulseInsightsObject.survey).updateScreenReaderCharactersCountLabel.apply(survey,[event.target])},updateCharactersCountLabel:function(input){var answerContainer,answerLength,charactersCountLabel,charactersCountLabelTextContent,maxLength,ref,remainingCharacters;if(0!==(maxLength=input.getAttribute("data-max-length")))return charactersCountLabel=input.parentNode.querySelector("._pi_free_text_question_characters_count"),answerLength=input.value.length,charactersCountLabelTextContent=this.charactersCountLabelTextContent(answerLength,maxLength,!1),this.updateCharactersCountLabelText(charactersCountLabel,charactersCountLabelTextContent),event&&event.target&&event.target.parentNode&&(answerContainer=event.target.parentNode.parentNode),answerContainer&&answerContainer.setAttribute("data-answer",event.target.value),(remainingCharacters=maxLength-answerLength)>0?(charactersCountLabel.setAttribute("class",`_pi_free_text_question_characters_count ${remainingCharacters<20?"danger":void 0}`),this.submitButton.removeAttribute("disabled"),this.submitButton.setAttribute("aria-disabled","false"),this.textInput.setAttribute("aria-invalid","false")):0===remainingCharacters?event&&46!==(ref=event.keyCode)&&8!==ref&&event.preventDefault():(this.submitButton.setAttribute("disabled","disabled"),this.submitButton.setAttribute("aria-disabled","true"),answerContainer&&answerContainer.setAttribute("data-answer",""),this.textInput.setAttribute("aria-invalid","true")),"t"!==this.attributes.display_all_questions?this.toggleSubmitButton():answerContainer?this.checkSubmissionCompleteness(answerContainer):void 0},updateScreenReaderCharactersCountLabel:function(input){var answerLength,charactersCountLabelTextContent,maxLength,screenReaderCharactersCountLabel;if(0!==(maxLength=input.getAttribute("data-max-length")))return answerLength=input.value.length,screenReaderCharactersCountLabel=input.parentNode.querySelector("#_pi_free_text_question_screen_reader_characters_count"),charactersCountLabelTextContent=this.charactersCountLabelTextContent(answerLength,maxLength,!0),this.updateCharactersCountLabelText(screenReaderCharactersCountLabel,charactersCountLabelTextContent)},updateCharactersCountLabelText:function(charactersCountLabel,textContent){var charactersCountLabelTextNode;return charactersCountLabelTextNode=document.createTextNode(textContent),charactersCountLabel.innerHTML="",charactersCountLabel.appendChild(charactersCountLabelTextNode)},charactersCountLabelTextContent:function(answerLength,maxLength,isScreenReader){return isScreenReader?`You have used ${answerLength} characters of ${maxLength}`:`${answerLength}/${maxLength}`},toggleSubmitButton:function(){var answerLength;return answerLength=this.textInput.value.length,this.textInput.getAttribute("data-max-length")-answerLength<0||this.personalDataMaskingEnabled()&&this.detectPersonalData(this.textInput.value)?(this.submitButton.setAttribute("disabled","disabled"),this.submitButton.setAttribute("aria-disabled","true"),this.textInput.setAttribute("aria-invalid","true")):(this.submitButton.removeAttribute("disabled"),this.submitButton.setAttribute("aria-disabled","false"),this.textInput.setAttribute("aria-invalid","false"))},togglePersonalDataAlert:function(textInput){var personalDataAlertLabel;return personalDataAlertLabel=textInput.parentNode.querySelector("._pi_free_text_question_personal_data_alert"),this.detectPersonalData(textInput.value)?(personalDataAlertLabel.innerText=personalDataAlertLabel.getAttribute("data-alert-text"),personalDataAlertLabel.setAttribute("role","alert"),textInput.setAttribute("aria-invalid","true")):(personalDataAlertLabel.innerText="",personalDataAlertLabel.removeAttribute("role"),textInput.setAttribute("aria-invalid","false"))},removeFreeTextEmptyAnswerAlert:function(textInput){var answerLength,emptyAnswerAlertLabel;if(answerLength=textInput.value.length,emptyAnswerAlertLabel=textInput.parentNode.querySelector("._pi_free_text_question_empty_answer_alert"),answerLength>0)return emptyAnswerAlertLabel.innerText="",textInput.setAttribute("aria-invalid","false")},detectPersonalData:function(text){var detected,emailRegex,niRegex,phoneRegex;if(""!==text)return niRegex=/(^|\s)(?!BG)(?!GB)(?!NK)(?!KN)(?!TN)(?!NT)(?!ZZ)(?:[A-CEGHJ-PR-TW-Z][A-CEGHJ-NPR-TW-Z])(?:\s*\d\s*){6}([A-D]|\s)/i,phoneRegex=/(^|\s|\+)\d{2}[\s\d-]{6,}($|\s)/,emailRegex=/(^|\s)([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9_-]+)($|\s)/,detected=/(^|\s)\d{3}-\d{2}-\d{4}($|\s)/.test(text)|niRegex.test(text),this.attributes.phone_number_masked&&(detected|=phoneRegex.test(text)),this.attributes.email_masked&&(detected|=emailRegex.test(text)),detected},personalDataMaskingEnabled:function(){return this.attributes.personal_data_masking_enabled},addFreeTextEmptyAnswerAlert:function(answerContainer){var emptyAnswerAlertLabel;return(emptyAnswerAlertLabel=answerContainer.querySelector("._pi_free_text_question_empty_answer_alert")).innerText=emptyAnswerAlertLabel.getAttribute("data-alert-text")},setFreeTextAriaInvalid:function(answerContainer){return answerContainer.querySelector("._pi_free_text_question_field").setAttribute("aria-invalid","true")},freeTextAriaDescribedByIds:function(questionId){return this.isAllAtOnce()&&this.allAtOnceEmptyErrorEnabled()?`_pi_question_${questionId}_personal_data_alert _pi_question_${questionId}_empty_answer_alert`:`_pi_question_${questionId}_personal_data_alert`},freeTextAlertContainerCSS:function(){return this.isAllAtOnce()&&this.allAtOnceEmptyErrorEnabled()?`._pi_free_text_question_alert_label_container { ${this.fontCSS()}; font-size: 12px; color: #927a85; overflow: hidden; } ._pi_free_text_question_personal_data_alert, ._pi_free_text_question_empty_answer_alert { overflow: hidden; text-overflow: ellipsis; }`:`._pi_free_text_question_personal_data_alert { ${this.fontCSS()}; font-size: 12px; color: #927a85; overflow: hidden; text-overflow: ellipsis; }`},freeTextQuestionCSS:function(){return`div._pi_free_text_question_field_container { margin: 0px 18px 10px 18px; } input._pi_free_text_question_field, textarea._pi_free_text_question_field { ${this.fontCSS()}; width: 100%; padding: 0px 2px; border: none; border-bottom: 1px solid #57636e; background-color: transparent; outline: none; box-shadow: none; font-size: 15px; color: #ccd1dd; } textarea._pi_free_text_question_field { border: 1px solid #57636e; } input._pi_free_text_question_field:hover, textarea._pi_free_text_question_field:hover { border-bottom: 1px solid #8fa9b6; } textarea._pi_free_text_question_field:hover { border: 1px solid #8fa9b6; } div._pi_free_text_question_submit_button_container { margin: 10px 0px 0px 0px; } input._pi_free_text_question_submit_button { background-color: black; font-size: 15px; padding: 5px 20px; border: none; color: #eaf4fb; cursor: pointer; } input._pi_free_text_question_submit_button:hover { background-color: #101010; } input._pi_free_text_question_submit_button:disabled { opacity: 0.3; } input._pi_free_text_question_submit_button:hover:disabled { background-color: black; opacity: 0.3; } ._pi_free_text_question_label_container { display: flex; justify-content: space-between; white-space: nowrap; } ._pi_free_text_question_characters_count { ${this.fontCSS()}; font-size: 12px; color: #7a8992; } ._pi_free_text_question_characters_count.danger { color: #927a85; } ${this.freeTextAlertContainerCSS()}`}})}.call(this),function(){window.FullscreenSurvey=class extends window.Survey{widgetType(){return"fullscreensurvey"}widgetPositioning(){var double_margin;return this.attributes.fullscreen_margin?(double_margin=2*parseInt(this.attributes.fullscreen_margin),`top: 0px; left: 0px; margin: ${this.attributes.fullscreen_margin}%; width: calc(100% - ${double_margin}%) !important; position: fixed; display: flex !important; flex-direction: column !important; flex-wrap: nowrap !important; justify-content: space-between !important; align-items: center !important; align-content: center !important;`):"top: 0px; left: 0px; width: 100% !important; height: 100% !important; position: fixed; display: flex !important; flex-direction: column !important; flex-wrap: nowrap !important; justify-content: space-between !important; align-items: center !important; align-content: center !important;"}cssStyle(){return super.cssStyle()+`._pi_invitationTextContainer { margin: 10px 20px; display: inline-block; } ._pi_startButton { display: inline-block; margin-top: 5px; } ._pi_loadingSurvey, ._pi_thankYouSurvey { ${this.fontCSS()} color: ${this.textColor()}; margin: 50px 0px 80px 0px; text-align: center; } ._pi_surveyWidget { text-align: center; height: auto; } ._pi_widgetContentContainer { margin-left: auto; margin-right: auto; width: 960px; text-align: center; } ._pi_closeButton { padding: 8px; } @media screen and (max-width: 960px) { ._pi_widgetContentContainer { width: 100%; } }`}mobileCssStyle(){
return super.mobileCssStyle()+"._pi_closeButton { padding: 0; } #_pi_surveyWidgetContainer.mobile-enabled #_pi_surveyWidget { top: 0px; left: 0px; width: 100% !important; height: 100% !important; position: fixed; display: flex !important; flex-direction: column !important; flex-wrap: nowrap !important; justify-content: space-between !important; align-items: center !important; align-content: center !important; border: none; margin: 0; }"}}}.call(this),function(){var allBehaviorsSatified,elementInViewport,getScrollPercent;window.PulseInsightsInclude(window.PulseInsights,{get:function(what){return"surveys"===what?this.getSurveys():this.log(`Not sure what to get: '${what}'`)},getSurveys:function(){var library,questionId,ref,surveyId,surveyName;return surveyName=null!=(ref=(library=window.PulseInsightsLibrary).getParam("pi_present"))?ref.match(/[-a-zA-Z0-9]+/)[0]:void 0,surveyId=Number(library.getParam("pi_present")),questionId=Number(library.getParam("pi_poll")),surveyId>0&&questionId>0?this.present_poll(surveyId,questionId):surveyId>0?this.present(surveyId):surveyName?this.present(surveyName):this.jsonpGet("/serve",this.collectEnvironmentAttributes(),this.surveysLoaded)},surveysLoaded:function(data){if(data)return 0===Object.keys(data).length&&null!=this.survey&&(this.survey.destroy(),this.survey=null),null!=data.device&&(this.udid=data.device.udid,this.updateUDID(this.udid)),null!=data.survey&&(this.submission=data.submission,this.renderSurvey(data.survey)),null!=data.device_data?this.device_data=data.device_data:void 0},renderSurvey:function(survey){var beginDate,behaviors_to_satisfy,interval;return clearInterval(this.interval),null!=this.survey&&(this.survey.destroy(),this.survey=null),0===survey.survey_type?this.survey=new DockedWidgetSurvey(survey):1===survey.survey_type?this.survey=new InlineSurvey(survey):2===survey.survey_type?this.survey=new TopBarSurvey(survey):3===survey.survey_type?this.survey=new BottomBarSurvey(survey):4===survey.survey_type?this.survey=new FullscreenSurvey(survey):this.log(`Error: does not know how to render survey of type ${survey.survey_type}.`),this.createSurveyWidget(),this.intersectionObserverShouldBeSetUp()&&this.setUpIntersectionObserver(),window.PulseInsightsObject.triggerOnImpressionCallback(),null!=this.survey&&(beginDate=Date.now(),behaviors_to_satisfy={},"t"===this.survey.attributes.render_after_intent_exit_enabled&&(behaviors_to_satisfy.intent_exit="t",behaviors_to_satisfy.intent_exit_satisfied="f"),"t"===this.survey.attributes.render_after_x_seconds_enabled&&""!==this.survey.attributes.render_after_x_seconds&&(behaviors_to_satisfy.x_seconds=this.survey.attributes.render_after_x_seconds,behaviors_to_satisfy.x_seconds_satisfied="f"),"t"===this.survey.attributes.render_after_x_percent_scroll_enabled&&""!==this.survey.attributes.render_after_x_percent_scroll&&(behaviors_to_satisfy.x_percent_scroll=this.survey.attributes.render_after_x_percent_scroll,behaviors_to_satisfy.x_percent_scroll_satisfied="f"),"t"===this.survey.attributes.render_after_element_visible_enabled&&""!==this.survey.attributes.render_after_element_visible&&(behaviors_to_satisfy.e_visible=this.survey.attributes.render_after_element_visible,behaviors_to_satisfy.e_visible_satisfied="f"),"t"===this.survey.attributes.render_after_element_clicked_enabled&&""!==this.survey.attributes.render_after_element_clicked&&(behaviors_to_satisfy.e_clicked=this.survey.attributes.render_after_element_clicked,behaviors_to_satisfy.e_clicked_satisfied="f"),"t"===this.survey.attributes.text_on_page_enabled&&""!==this.survey.attributes.text_on_page_selector&&""!==this.survey.attributes.text_on_page_selector&&(behaviors_to_satisfy.text_on_page_selector=this.survey.attributes.text_on_page_selector,behaviors_to_satisfy.text_on_page_value=this.survey.attributes.text_on_page_value,behaviors_to_satisfy.text_on_page_presence=this.survey.attributes.text_on_page_presence,behaviors_to_satisfy.text_on_page_satisfied="f"),behaviors_to_satisfy.intent_exit&&ouibounce(!1,{aggressive:!0,timer:500,sensitivity:10,delay:500,callback:function(){behaviors_to_satisfy.intent_exit_satisfied="t",allBehaviorsSatified(behaviors_to_satisfy)?(clearInterval(interval),window.PulseInsightsObject.survey.render()):behaviors_to_satisfy.intent_exit_satisfied="f"}}),interval=setInterval(function(){var elToClick;if("t"===behaviors_to_satisfy.text_on_page_presence&&document.querySelector(behaviors_to_satisfy.text_on_page_selector)&&document.querySelector(behaviors_to_satisfy.text_on_page_selector).textContent.includes(behaviors_to_satisfy.text_on_page_value)&&(behaviors_to_satisfy.text_on_page_satisfied="t"),"f"===behaviors_to_satisfy.text_on_page_presence&&document.querySelector(behaviors_to_satisfy.text_on_page_selector)&&!document.querySelector(behaviors_to_satisfy.text_on_page_selector).textContent.includes(behaviors_to_satisfy.text_on_page_value)&&(behaviors_to_satisfy.text_on_page_satisfied="t"),behaviors_to_satisfy.x_seconds&&Date.now()/1e3-beginDate/1e3>=behaviors_to_satisfy.x_seconds&&(behaviors_to_satisfy.x_seconds_satisfied="t"),behaviors_to_satisfy.x_percent_scroll&&getScrollPercent()>=behaviors_to_satisfy.x_percent_scroll&&(behaviors_to_satisfy.x_percent_scroll_satisfied="t"),behaviors_to_satisfy.e_visible&&document.querySelector(behaviors_to_satisfy.e_visible)&&elementInViewport(document.querySelector(behaviors_to_satisfy.e_visible))&&(behaviors_to_satisfy.e_visible_satisfied="t"),behaviors_to_satisfy.e_clicked&&null!=(elToClick=document.querySelector(behaviors_to_satisfy.e_clicked))&&(elToClick.onclick=function(){return behaviors_to_satisfy.e_clicked_satisfied="t"}),allBehaviorsSatified(behaviors_to_satisfy))return clearInterval(interval),window.PulseInsightsObject.survey.render()},100)),this.interval=interval},collectEnvironmentAttributes:function(){var params;return params={udid:this.getUDID(),device_type:this.deviceType(),identifier:this.identifier||null,visit_count:this.getVisitCount(),pageview_count:this.getPageviewCount(),url:window.location.href},null!=this.getClientKey()&&(params.client_key=this.getClientKey()),null!=this.customData&&(params.custom_data=this.stringify(this.customData)),this.previewMode&&(params.preview_mode=!0),params},createSurveyWidget:function(){return this.survey.widgetContainer=document.createElement("div"),this.survey.widgetContainer.setAttribute("id","_pi_surveyWidgetContainer"),this.survey.widget=document.createElement("div"),this.survey.widget.setAttribute("id","_pi_surveyWidget"),this.survey.widget.setAttribute("role","application"),this.survey.widget.setAttribute("aria-label","Survey"),this.survey.widgetContainer.appendChild(this.survey.widget)},stringify:function(obj){var arr,json,n,self,t,v;if("object"!==(t=typeof obj)||null===obj)return"string"===t&&(obj='"'+obj+'"'),String(obj);for(n in json=[],arr=obj&&obj.constructor===Array,self=this,obj)v=obj[n],function(n){"string"===(t=typeof v)?v='"'+v+'"':"object"===t&&null!==v&&(v=self.stringify(v)),arr?json.push(String(v)):json.push('"'+n+'":'+String(v))}(n);return arr?"["+String(json)+"]":"{"+String(json)+"}"}},allBehaviorsSatified=function(behaviors_to_satisfy){return"f"!==behaviors_to_satisfy.x_percent_scroll_satisfied&&"f"!==behaviors_to_satisfy.x_seconds_satisfied&&"f"!==behaviors_to_satisfy.e_visible_satisfied&&"f"!==behaviors_to_satisfy.e_clicked_satisfied&&"f"!==behaviors_to_satisfy.intent_exit_satisfied&&"f"!==behaviors_to_satisfy.text_on_page_satisfied},elementInViewport=function(el){var height,left,top,width;for(top=el.offsetTop,left=el.offsetLeft,width=el.offsetWidth,height=el.offsetHeight;el.offsetParent;)top+=(el=el.offsetParent).offsetTop,left+=el.offsetLeft;return top>=window.pageYOffset&&left>=window.pageXOffset&&top+height<=window.pageYOffset+window.innerHeight&&left+width<=window.pageXOffset+window.innerWidth},getScrollPercent=function(){var b,h,sh,st;return h=document.documentElement,b=document.body,sh="scrollHeight",(h[st="scrollTop"]||b[st])/((h[sh]||b[sh])-h.clientHeight)*100})}.call(this),function(){window.InlineSurvey=class extends window.Survey{widgetType(){return"inlinesurvey"}widgetParent(){var inlineTargetSelector,parent;if(parent=null,""!==(inlineTargetSelector=PulseInsightsObject.isMobile()&&this.attributes.mobile_inline_target_selector||this.attributes.inline_target_selector)&&(parent=document.querySelector(inlineTargetSelector)),null!=parent)return this.log("Inline Target Area Found"),parent}cssStyle(){return super.cssStyle()+`#_pi_surveyWidget { position: relative; } ._pi_invitationTextContainer { margin: 30px 0px; } ._pi_startButton { display: block; width: 50%; margin-top: 50px; margin-left: auto; margin-right: auto; text-decoration: none; } ._pi_loadingSurvey, ._pi_thankYouSurvey { ${this.fontCSS()} color: ${this.textColor()}; margin: 50px 0px 80px 0px; text-align: center; }`}height(){return"150px"}width(){return"100%"}}}.call(this),function(){window.PulseInsightsInclude(window.PulseInsights,{setUpIntersectionObserver:function(){var options;return options={root:null,threshold:this.intersectionThreshold()},new IntersectionObserver(this.handleIntersection,options).observe(this.survey.widget)},handleIntersection:function(entries){var PI;return PI=window.PulseInsightsObject,entries.forEach(function(entry){var date_constructor,raw_date,utc_string_conversion;if(void 0!==PI.submission&&!(entry.intersectionRatio<PI.intersectionThreshold()))return raw_date=new Date,date_constructor=Date.toString(),utc_string_conversion=(new Date).toUTCString.toString(),PI.jsonpGet(`/submissions/${PI.submission.udid}/viewed_at`,{raw_date:raw_date,date_constructor:date_constructor,utc_string_conversion:utc_string_conversion,viewed_at:(new Date).toUTCString()},PI.triggerOnViewCallback)})},intersectionThreshold:function(){return.5},intersectionObserverShouldBeSetUp:function(){return!this.userIsIE()&&"t"===this.survey.attributes.intersection_observer_enabled}})}.call(this),function(){window.PulseInsightsInclude(window.PulseInsights,{testMode:function(){return"file:"===document.location.protocol},protocol:function(){return this.testMode()?"http:":document.location.protocol},rackAppDomain:function(){return null!=this.customRackAppDomain?this.customRackAppDomain:this.testMode()?"localhost:3000":"survey.pulseinsights.com"},host:function(domain){return this.log(`Set custom Rack app host to '${domain}'`),this.customRackAppDomain=domain},jsonpGet:function(uri,data,callback){var head,key,params,requestId,script,src,value;for(key in null==this.jsonpRequests&&(this.jsonpRequests=0),null==this.jsonpCallbacks&&(this.jsonpCallbacks={}),null==arguments[2]&&(callback=arguments[1],data={}),this.log(`JSONP Get with URI ${uri}`),src=this.protocol()+"//"+this.rackAppDomain()+uri,src+=src.indexOf("?")+1?"&":"?",head=document.getElementsByTagName("head")[0],requestId=this.jsonpRequests,(script=document.createElement("script")).setAttribute("data-request-id",requestId),this.jsonpRequests++,data.callback="window.PulseInsightsObject.jsonpCallbacks.request_"+requestId,this.jsonpCallbacks["request_"+requestId]=function(data){return head.removeChild(script),callback.apply(window.PulseInsightsObject,[data]),window.PulseInsightsObject.jsonpCallbacks["request_"+requestId]=function(){var duplicateScript;if(null!=(duplicateScript=document.querySelector('script[data-request-id="'+requestId+'"]')))return head.removeChild(duplicateScript)},delete window.PulseInsightsObject.jsonpCallbacks["request_"+requestId]},params=[],data)value=data[key],function(key){params.push(key+"="+encodeURIComponent(value+""))}(key);return src+=params.join("&"),this.log("Complete URL with params"),this.log(src),script.type="text/javascript",script.src=src,head.appendChild(script)}})}.call(this),function(){window.PulseInsightsInclude(window.Survey,{renderMultipleChoicesQuestion:function(possibleAnswersContainer,display_all_questions){var alertLabelContainer,i,is_mobile,len,questionId,ref,self,submitButton,submitButtonContainer,submitButtonError,textInputContainer;for(questionId=this.question.id,self=this,is_mobile=window.PulseInsightsObject.isMobile()&&1!==this.attributes.survey_type&&3!==this.attributes.survey_type,i=0,len=(ref=this.question.possible_answers).length;i<len;i++)!function(possibleAnswer){var checkBox,checkBoxControl,per_row,possibleAnswerElement,possibleAnswerLabelElement;if((possibleAnswerElement=document.createElement("li")).setAttribute("data-possible-answer-locale-group-id",possibleAnswer.possible_answer_locale_group_id),(checkBox=document.createElement("input")).setAttribute("class","_pi_checkbox"),checkBox.setAttribute("type","checkbox"),checkBox.setAttribute("value",possibleAnswer.id),checkBox.setAttribute("aria-describedby",self.multipleChoiceAriaDescribedByIds(questionId)),(checkBoxControl=document.createElement("div")).setAttribute("class","_pi-control-indicator"),(possibleAnswerLabelElement=document.createElement("label")).setAttribute("class","_pi-control _pi-control-checkbox"),possibleAnswerLabelElement.innerHTML=window.PulseInsightsObject.survey.formatText(possibleAnswer.content),possibleAnswerLabelElement.insertBefore(checkBoxControl,possibleAnswerLabelElement.firstChild),possibleAnswerLabelElement.insertBefore(checkBox,possibleAnswerLabelElement.firstChild),checkBox.onclick=window.PulseInsightsObject.survey.multipleChoicesCheckboxClicked,possibleAnswerElement.appendChild(possibleAnswerLabelElement),possibleAnswersContainer.appendChild(possibleAnswerElement),per_row=is_mobile?self.question.answers_per_row_mobile:self.question.answers_per_row_desktop)possibleAnswerElement.setAttribute("style",`max-width: calc(${100/per_row}% - 20px);`)}(ref[i]);return(textInputContainer=document.createElement("div")).setAttribute("class","_pi_free_text_question_field_container"),possibleAnswersContainer.appendChild(textInputContainer),this.choicesCountLabel=document.createElement("div"),this.choicesCountLabel.setAttribute("id",`_pi_multiple_choices_question_${questionId}_count`),this.choicesCountLabel.setAttribute("class","_pi_multiple_choices_count"),self.isAllAtOnce()&&self.allAtOnceEmptyErrorEnabled()?((alertLabelContainer=document.createElement("div")).setAttribute("class","_pi_multiple_choice_question_alert_label_container"),this.emptyAnswerAlertLabel=document.createElement("div"),this.emptyAnswerAlertLabel.setAttribute("id",`_pi_multiple_choices_question_${questionId}_empty_answer`),this.emptyAnswerAlertLabel.setAttribute("class","_pi_multiple_choices_empty_answer_alert"),this.emptyAnswerAlertLabel.setAttribute("data-alert-text",this.question.empty_error_text),textInputContainer.appendChild(alertLabelContainer),alertLabelContainer.appendChild(this.choicesCountLabel),alertLabelContainer.appendChild(this.emptyAnswerAlertLabel)):textInputContainer.appendChild(this.choicesCountLabel),submitButtonContainer=document.createElement("div"),display_all_questions||(submitButtonContainer.setAttribute("class","_pi_multiple_choices_question_submit_button_container"),(submitButton=document.createElement("input")).setAttribute("class","_pi_multiple_choices_question_submit_button"),submitButton.setAttribute("type","submit"),submitButton.setAttribute("value",this.question.submit_label||"Submit"),submitButton.setAttribute("aria-disabled","false"),submitButton.onclick=window.PulseInsightsObject.survey.multipleChoicesSubmitClicked,(submitButtonError=document.createElement("div")).setAttribute("data-alert-text",this.question.empty_error_text),submitButtonError.setAttribute("class","_pi_multiple_choices_question_submit_error"),submitButtonError.setAttribute("role","alert"),submitButtonContainer.appendChild(submitButton),submitButtonContainer.appendChild(submitButtonError)),possibleAnswersContainer.appendChild(submitButtonContainer)},multipleChoicesSubmitClicked:function(event){var answerContainer,answerIds,maximumSelection,params,questionId,submissionUdid,submitButtonError;return event.stopPropagation(),window.PulseInsightsObject.survey.setControlTransitionFocus(window.PulseInsightsObject.survey.shouldControlFocus(event)),questionId=window.PulseInsightsObject.survey.question.id,answerIds=window.PulseInsightsObject.survey.multipleChoiceAnswerIds(questionId),answerContainer=event.target.closest("._pi_answers_container"),null!=window.PulseInsightsObject.survey.question.maximum_selection&&(maximumSelection=window.PulseInsightsObject.survey.question.maximum_selection),params={identifier:window.PulseInsightsObject.identifier,question_id:questionId,check_boxes:answerIds},0===answerIds.length?(submitButtonError=answerContainer.querySelector("._pi_multiple_choices_question_submit_error"),window.PulseInsightsObject.survey.updateSubmitButtonError(submitButtonError),!1):!(null!=maximumSelection&&answerIds.length>maximumSelection)&&(submissionUdid=null!=window.PulseInsightsObject.submission?window.PulseInsightsObject.submission.udid:null,null!=window.PulseInsightsObject.customData&&(params.custom_data=window.PulseInsightsObject.stringify(window.PulseInsightsObject.customData)),window.PulseInsightsObject.client_key&&(params.client_key=window.PulseInsightsObject.getClientKey()),window.PulseInsightsObject.previewMode?(window.PulseInsightsObject.survey.answersSubmitted(),!1):(window.PulseInsightsObject.triggerOnAnswerCallback(event),window.PulseInsightsObject.jsonpGet(`/submissions/${submissionUdid}/answer`,params,window.PulseInsightsObject.survey.answersSubmitted),!1))},multipleChoicesCheckboxClicked:function(event){var answerContainer,answerContents,answerIds,charactersCountLabelTextNode,choicesCountLabel,choicesLabelText,i,len,maximumSelection,question,questionId,ref,survey;if(event.stopPropagation(),window.PulseInsightsObject.survey.setControlTransitionFocus(window.PulseInsightsObject.survey.shouldControlFocus(event)),choicesCountLabel=(survey=window.PulseInsightsObject.survey).choicesCountLabel,answerContainer=event.target.closest("._pi_answers_container"),questionId=parseInt(answerContainer.getAttribute("data-question-id")),answerIds=survey.multipleChoiceAnswerIds(questionId),survey.isAllAtOnce())for(questionId=parseInt(answerContainer.getAttribute("data-question-id")),i=0,len=(ref=survey.questions).length;i<len;i++)(question=ref[i]).id===questionId&&null!=question.maximum_selection&&(maximumSelection=question.maximum_selection);else null!=survey.question.maximum_selection&&(maximumSelection=survey.question.maximum_selection);return this.checked?(answerIds.push(this.value),survey.isAllAtOnce()&&survey.allAtOnceEmptyErrorEnabled()&&!survey.isQuestionOptional(answerContainer)&&(survey.removeMultipleChoiceEmptyAnswerAlert(answerContainer),survey.setMultipleChoicesAriaInvalid(answerContainer,"false")),null!=maximumSelection&&answerIds.length>maximumSelection&&(choicesLabelText=survey.question.maximum_selections_exceeded_error_text||`Maximum of ${maximumSelection} please.`,charactersCountLabelTextNode=document.createTextNode(choicesLabelText),choicesCountLabel.innerHTML="",choicesCountLabel.appendChild(charactersCountLabelTextNode),choicesCountLabel.setAttribute("role","alert"),window.PulseInsightsObject.survey.setSubmitButtonAriaDisabled("true"),window.PulseInsightsObject.survey.setMultipleChoicesAriaInvalid(answerContainer,"true"))):(answerIds=answerIds.filter(answerId=>answerId!==this.value),null!=maximumSelection&&answerIds.length<=maximumSelection&&(choicesLabelText="",charactersCountLabelTextNode=document.createTextNode(choicesLabelText),choicesCountLabel.innerHTML="",choicesCountLabel.appendChild(charactersCountLabelTextNode),choicesCountLabel.removeAttribute("role",""),window.PulseInsightsObject.survey.setSubmitButtonAriaDisabled("false"),window.PulseInsightsObject.survey.setMultipleChoicesAriaInvalid(answerContainer,"false"))),answerContainer.setAttribute("data-answer",answerIds),question=survey.questions.find(function(question){return question.id===questionId}),answerContents=answerIds.map(function(selectedAnswerId){return question.possible_answers.find(function(possibleAnswer){return possibleAnswer.id===parseInt(selectedAnswerId)}).content}),answerContainer.setAttribute("data-answer-content",answerContents.join()),survey.isAllAtOnce()?survey.checkSubmissionCompleteness(answerContainer):answerIds.length>0?survey.removeSubmitButtonError(answerContainer):void 0},multipleChoiceAnswerIds:function(questionId){var answerProperty;return(answerProperty=document.querySelector(`._pi_answers_container[data-question-id='${questionId}'`).dataset.answer)?answerProperty.split(","):[]},multipleChoiceAriaDescribedByIds:function(questionId){return this.isAllAtOnce()&&this.allAtOnceEmptyErrorEnabled()?`_pi_multiple_choices_question_${questionId}_empty_answer _pi_multiple_choices_question_${questionId}_count`:`_pi_multiple_choices_question_${questionId}_count`},setSubmitButtonAriaDisabled:function(newVal){var submitButton;if(submitButton=document.getElementsByClassName("_pi_multiple_choices_question_submit_button")[0])return submitButton.setAttribute("aria-disabled",newVal)},removeMultipleChoiceEmptyAnswerAlert:function(answerContainer){return answerContainer.querySelector("._pi_multiple_choices_empty_answer_alert").innerText=""},addMultipleChoiceEmptyAnswerAlert:function(answerContainer){var emptyAnswerAlertLabel;return(emptyAnswerAlertLabel=answerContainer.querySelector("._pi_multiple_choices_empty_answer_alert")).innerText=emptyAnswerAlertLabel.getAttribute("data-alert-text")},setMultipleChoicesAriaInvalid:function(answerContainer,value){return answerContainer.querySelector("._pi_checkbox").setAttribute("aria-invalid",value)},removeSubmitButtonError:function(answerContainer){return answerContainer.querySelector("._pi_multiple_choices_question_submit_error").innerHTML=""},updateSubmitButtonError:function(submitButtonError){return""===submitButtonError.innerHTML?submitButtonError.innerHTML=submitButtonError.getAttribute("data-alert-text"):window.PulseInsightsObject.survey.appendScreenReaderSubmitButtonError(submitButtonError)},appendScreenReaderSubmitButtonError:function(submitButtonError){var screenReaderSubmitButtonError,submitButtonContainer;return submitButtonContainer=submitButtonError.parentNode,(screenReaderSubmitButtonError=document.createElement("div")).setAttribute("class","_pi_screen_reader_only"),screenReaderSubmitButtonError.setAttribute("role","alert"),screenReaderSubmitButtonError.setAttribute("aria-relevant","additions"),screenReaderSubmitButtonError.innerHTML=submitButtonError.innerHTML,submitButtonContainer.appendChild(screenReaderSubmitButtonError)},multipleChoiceAlertContainerClass:function(){return this.isAllAtOnce()&&this.allAtOnceEmptyErrorEnabled()?"_pi_multiple_choice_question_alert_label_container":"_pi_multiple_choices_count"},multipleChoicesQuestionCSS:function(){return`._pi-control { display: block; position: relative; margin: 0px 0px 0px 25px; padding: 5px 0px 5px 0px; } ._pi-control input { position: absolute; z-index: -1; opacity: 0; } ._pi-control-indicator { position: absolute; top: 9px; left: -25px; height: 15px; width: 15px; border: 1px solid rgba(255,255,255,0.5); } ._pi-control-indicator:after { content: ''; position: absolute; display: none; } ._pi-control input:checked ~ ._pi-control-indicator:after { display: block; } ._pi-control-checkbox ._pi-control-indicator:after { left: 4px; width: 5px; height: 11px; border: solid rgba(255,255,255,0.5); border-width: 0 2px 2px 0; transform: rotate(45deg); } div._pi_free_text_question_field_container { clear: both; margin: 0px 18px 10px 18px; } ul._pi_answers_container li label input._pi_checkbox { margin-right: 10px; cursor: pointer; } ul._pi_answers_container li label { color: ${this.answerTextColor()}; ${this.fontCSS()} width: 100%; width: -moz-calc(100% - 35px); width: -webkit-calc(100% - 35px); width: calc(100% - 35px); float: left; cursor: pointer; } div._pi_multiple_choices_question_submit_button_container { margin: 10px 0px 0px 0px; clear: both; } input._pi_multiple_choices_question_submit_button { background-color: black; font-size: 15px; padding: 5px 20px; border: none; color: #eaf4fb; cursor: pointer; } input._pi_multiple_choices_question_submit_button:hover { background-color: #101010; } input._pi_multiple_choices_question_submit_button:disabled { opacity: 0.3; } input._pi_multiple_choices_question_submit_button:hover:disabled { background-color: black; opacity: 0.3; } .${this.multipleChoiceAlertContainerClass()} { ${this.fontCSS()}; font-size: 12px; color: #927a85; height: 17px; } ._pi_multiple_choices_question_submit_error { ${this.fontCSS()}; text-align: center; font-size: 12px; color: #927a85; margin-top: 10px; }`}})}.call(this),function(){window.PulseInsightsInclude(window.PulseInsights,{present:function(surveyIdOrEventName,override){return this.override=override,this.jsonpGet(`/surveys/${surveyIdOrEventName}`,this.collectEnvironmentAttributes(surveyIdOrEventName),this.surveyLoaded)},surveyLoaded:function(data){var key;if(this.override)for(key in this.override)this.override.hasOwnProperty(key)&&(data.survey[key]=this.override[key]);return this.log("Survey loaded"),null!=data.device&&(this.udid=data.device.udid,this.updateUDID(this.udid)),null!=data.device_data&&(this.device_data=data.device_data),null!=data.survey?(this.submission=data.submission,this.log(`Rendering survey ${data.survey.id}`),this.renderSurvey(data.survey)):this.log("No survey to render")}},function(obj,src){var key;for(key in src)src.hasOwnProperty(key)&&(obj[key]=src[key]);return obj})}.call(this),function(){window.PulseInsightsInclude(window.PulseInsights,{present_poll:function(surveyId,questionId){return this.jsonpGet(`/surveys/${surveyId}/poll`,this.pollParams(questionId),this.pollLoaded)},pollLoaded:function(data){return this.log("Survey loaded"),null!=data.survey&&null!=data.results&&data.results.length>0?(this.poll=data.results,this.question=data.question,this.log(`Rendering survey ${data.survey.id} and poll`),this.renderSurvey(data.survey)):this.log("No survey to render")},pollParams:function(questionId){var params;return(params=this.collectEnvironmentAttributes()).question_id=questionId,params}})}.call(this),window.PulseInsightsLibrary={},window.PulseInsightsLibrary.escapeText=function(text){const div=document.createElement("div");return div.appendChild(document.createTextNode(text)),div.innerHTML},window.PulseInsightsLibrary.formatText=function(text){let formattedText=window.PulseInsightsLibrary.escapeText(text);return formattedText=(formattedText=(formattedText=(formattedText=formattedText.replace(/_([^_]+)_/g,"<em>$1</em>")).replace(/\*([^\*]+)\*/g,"<b>$1</b>")).replace(/\^([^\^]+)\^/g,"<sup>$1</sup>")).replace(/\~([^\~]+)\~/g,"<sub>$1</sub>")},window.PulseInsightsLibrary.getParam=(key=>new URLSearchParams(window.location.search).get(key)),function(){var indexOf=[].indexOf;window.PulseInsightsInclude(window.Survey,{render:function(){var backgroundContainer,branding,container,i,invitation,renderPosition,startButton,startText,t,that,widgetContainerClass,widgetParent;return this.renderCSS(),window.PulseInsightsObject.isMobile()&&1!==this.attributes.survey_type&&3!==this.attributes.survey_type&&this.insertCSS(this.mobileCssStyle()),this.renderThemeCss(),this.renderCustomCSS(),this.widgetContainer.onclick=window.PulseInsightsObject.survey.widgetContainerClickedEvent,this.widget.setAttribute("data-survey-locale-group-id",this.attributes.survey_locale_group_id),"t"===this.attributes.display_all_questions&&this.widget.setAttribute("data-survey-display","all-at-once"),this.widget.setAttribute("survey-widget-type",this.widgetType()),widgetContainerClass="",window.PulseInsightsObject.isMobile()&&(widgetContainerClass="mobile-enabled"),indexOf.call(window,"ontouchstart")>=0&&(widgetContainerClass+=" has-touch"),this.widgetContainer.setAttribute("class",widgetContainerClass),widgetContainerClass="",window.PulseInsightsObject.isMobile()&&(widgetContainerClass="mobile-enabled"),indexOf.call(window,"ontouchstart")>=0&&(widgetContainerClass+=" has-touch"),"t"===this.attributes.display_all_questions&&(widgetContainerClass+=" all-at-once"),this.widgetContainer.setAttribute("class",widgetContainerClass),this.accessibilitySpan=document.createElement("span"),this.accessibilitySpan.setAttribute("class","_pi_accessibilityHidden"),this.accessibilitySpan.innerHTML="Survey",this.accessibilitySpan.setAttribute("style","display: none;"),this.widget.appendChild(this.accessibilitySpan),this.closeButton=document.createElement("div"),this.closeButton.setAttribute("class","_pi_closeButton"),this.closeButton.setAttribute("aria-label","Close Survey"),this.closeButton.setAttribute("tabindex","0"),this.closeButton.setAttribute("role","button"),this.closeButton.appendChild(document.createTextNode("\xd7")),this.closeButton.addEventListener("keydown",function(event){if("Enter"===event.key)return event.preventDefault(),window.PulseInsightsObject.survey.closeButtonClickedEvent()}),this.closeButton.onclick=window.PulseInsightsObject.survey.closeButtonClickedEvent,this.widget.appendChild(this.closeButton),this.widgetContent=document.createElement("div"),this.widgetContent.setAttribute("class","_pi_widgetContentContainer"),null!=this.attributes.background&&""!==this.attributes.background&&((backgroundContainer=document.createElement("img")).setAttribute("src",this.attributes.background),backgroundContainer.setAttribute("class","_pi_background_image"),this.widget.appendChild(backgroundContainer)),this.invitationText()&&((invitation=document.createElement("div")).setAttribute("class","_pi_invitationTextContainer"),invitation.innerHTML=this.formatText(this.invitationText()),invitation.onclick=window.PulseInsightsObject.survey.startButtonClickedEvent,this.widgetContent.appendChild(invitation),(startButton=document.createElement("a")).setAttribute("class","_pi_startButton"),startButton.setAttribute("href","javascript:void(0)"),"t"!==this.invitationButtonDisabled()&&(startText=this.invitationButtonText()||"Start",startButton.innerHTML=this.escapeText(startText),startButton.onclick=window.PulseInsightsObject.survey.startButtonClickedEvent,this.widgetContent.appendChild(startButton))),this.widget.appendChild(this.widgetContent),this.attributes.pulse_insights_branding&&((branding=document.createElement("a")).setAttribute("class","_pi_branding"),branding.setAttribute("href",`http://pulseinsights.com?utm_source=survey_widget&utm_medium=client_site_referral&utm_campaign=${window.PulseInsightsObject.identifier}`),branding.setAttribute("target","_blank"),branding.appendChild(document.createTextNode("Crafted with Pulse Insights")),this.widget.appendChild(branding)),renderPosition=function(){switch(this.attributes.inline_target_position){case"0":return"below";case"1":return"above";case"2":return"before";case"3":return"after";default:return null}}.call(this),void 0===(widgetParent=this.widgetParent())?(that=this,i=0,t=setInterval(function(){if(widgetParent=that.widgetParent(),100===++i&&clearInterval(t),void 0!==widgetParent)return clearInterval(t),that.insertWidgetContainer(that.widgetContainer,widgetParent,renderPosition)},100)):this.insertWidgetContainer(this.widgetContainer,this.widgetParent(),renderPosition),this.invitationText()||(null!=PulseInsightsObject.poll?this.renderResults(PulseInsightsObject.poll):this.loadQuestions()),container=this.widget,this.height(),setTimeout(function(){return container.setAttribute("style","max-height: 1999px")},10)},renderAllQuestions:function(){var display_all_questions,j,len,question,ref;for(this.widgetContent.innerHTML="",display_all_questions=!0,j=0,len=(ref=this.questions).length;j<len;j++)question=ref[j],this.question=question,this.renderCurrentQuestion(display_all_questions);return this.submitButtonContainer=document.createElement("div"),this.submitButtonContainer.setAttribute("class","_pi_all_questions_submit_button_container"),this.allSubmitButtonError=document.createElement("div"),this.allSubmitButtonError.setAttribute("class","_pi_all_at_once_submit_error"),"f"===this.attributes.all_at_once_empty_error_enabled&&this.allSubmitButtonError.setAttribute("role","alert"),this.allSubmitButton=document.createElement("input"),this.allSubmitButton.setAttribute("class","_pi_all_questions_submit_button"),this.allSubmitButton.setAttribute("type","submit"),this.allSubmitButton.setAttribute("value",this.attributes.all_at_once_submit_label),this.allSubmitButton.setAttribute("data-submit-error",!0),this.allSubmitButton.onclick=window.PulseInsightsObject.survey.allQuestionsSubmitClicked,this.submitButtonContainer.appendChild(this.allSubmitButton),this.submitButtonContainer.appendChild(this.allSubmitButtonError),this.widgetContent.appendChild(this.submitButtonContainer)},renderCurrentQuestion:function(display_all_questions=!1){
var alignment,answer_widths,answers_alignment,answers_layout,answers_per_row,ariaLabelledBy,body,customContentCardNextQuestions,j,k,len,len1,match,possibleAnswersContainer,questionElement,radio_button,redirect_url,ref,regex,script,width_type;if(display_all_questions||0===this.question.position||this.focusOnLoadingInterstitial(),display_all_questions||(this.widgetContent.innerHTML=""),(questionElement=document.createElement("div")).setAttribute("class",`_pi_question _pi_question_${this.question.question_type}`),questionElement.setAttribute("id",`_pi_question_${this.question.id}`),questionElement.setAttribute("data-question-id",this.question.id),questionElement.setAttribute("data-question-locale-group-id",this.question.question_locale_group_id),questionElement.setAttribute("data-error-text",this.question.error_text),"custom_content_question"===this.question.question_type){for(body=document.getElementsByTagName("body")[0],regex=/<script\b[^>]*>([\s\S]*?)<\/script>/gm,match=void 0;match=regex.exec(this.question.content);)(script=document.createElement("script")).type="text/javascript",script.text=match[1],body.appendChild(script);questionElement.innerHTML=this.question.content}else this.widget.setAttribute("id","_pi_surveyWidget"),this.closeButton.setAttribute("class","_pi_closeButton"),questionElement.innerHTML=this.formatText(this.question.content);if(this.widgetContent.appendChild(questionElement),"t"===this.attributes.custom_content_link_click_enabled)for(j=0,len=(ref=questionElement.getElementsByTagName("a")).length;j<len;j++)ref[j].addEventListener("click",function(e){var PI,linkIdentifier,questionId;if((PI=window.PulseInsightsObject).triggerOnClickCallback(e),PI.debugMode&&e.preventDefault(),void 0!==PI.submission)return questionId=this.closest("._pi_question").dataset.questionId,linkIdentifier=this.dataset.piLinkId,PI.logCustomContentLinkClick(questionId,linkIdentifier)});if((possibleAnswersContainer=possibleAnswersContainer=2===this.question.button_type?document.createElement("div"):document.createElement("ul")).setAttribute("class","_pi_answers_container"),ariaLabelledBy="",this.questionHasBeforeText()&&(ariaLabelledBy=`_pi_header_before_${this.question.id} `),ariaLabelledBy=`${ariaLabelledBy}_pi_question_${this.question.id}`,this.questionHasAfterText()&&(ariaLabelledBy=`${ariaLabelledBy} _pi_header_after_${this.question.id}`),possibleAnswersContainer.setAttribute("aria-labelledby",ariaLabelledBy),"f"===this.attributes.display_all_questions?(this.widget.setAttribute("data-question-id",this.question.id),possibleAnswersContainer.setAttribute("data-question-id",this.question.id),this.widget.setAttribute("data-question-type",this.question.question_type),possibleAnswersContainer.setAttribute("data-question-type",this.question.question_type)):(possibleAnswersContainer.setAttribute("data-question-id",this.question.id),possibleAnswersContainer.setAttribute("data-question-type",this.question.question_type),"custom_content_question"===possibleAnswersContainer.getAttribute("data-question-type")?possibleAnswersContainer.setAttribute("data-question-optional","t"):possibleAnswersContainer.setAttribute("data-question-optional",this.question.optional)),answers_per_row=window.PulseInsightsObject.isMobile()?this.question.answers_per_row_mobile:this.question.answers_per_row_desktop,radio_button=1===this.question.button_type?"off":"on",this.displayFlexDisplay()?this.insertCSS(this.flexCssStyle(),"pi_flex_display"):this.removeCss("pi_flex_display"),this.widget.setAttribute("data-question-nps",this.question.nps),possibleAnswersContainer.setAttribute("data-question-nps",this.question.nps),answers_layout=1===(width_type=window.PulseInsightsObject.isMobile()?this.question.mobile_width_type:this.question.desktop_width_type)?"variable":"fixed",alignment=window.PulseInsightsObject.isMobile()?this.question.answers_alignment_mobile:this.question.answers_alignment_desktop,answer_widths=1===width_type&&0===alignment?"variable-left":1===width_type&&1===alignment?"variable-center":0===width_type||"multiple_choices_question"===this.question.question_type?"fixed":"",possibleAnswersContainer.setAttribute("data-answers-layout",answers_layout),this.widget.setAttribute("data-answers-layout",answers_layout),answers_alignment=function(){switch(alignment){case 0:return"left";case 1:return"center";case 2:return"right";case 3:return"space-between";case 4:return"space-around";case 5:return"space-evenly";default:return""}}(),possibleAnswersContainer.setAttribute("data-answers-alignment",answers_alignment),this.widget.setAttribute("data-answers-alignment",answers_alignment),answer_widths&&"f"===this.attributes.display_all_questions?(this.widget.setAttribute("data-answer-widths",answer_widths),possibleAnswersContainer.setAttribute("data-answer-widths",answer_widths)):answer_widths&&"t"===this.attributes.display_all_questions?possibleAnswersContainer.setAttribute("data-answer-widths",answer_widths):this.widget.removeAttribute("data-answer-widths"),answers_per_row&&"f"===this.attributes.display_all_questions?(this.widget.setAttribute("data-answers-per-row",answers_per_row),possibleAnswersContainer.setAttribute("data-answers-per-row",answers_per_row)):answers_per_row&&"t"===this.attributes.display_all_questions?possibleAnswersContainer.setAttribute("data-answers-per-row",answers_per_row):this.widget.removeAttribute("data-answers-per-row"),radio_button&&"f"===this.attributes.display_all_questions?(this.widget.setAttribute("data-radio-button",radio_button),possibleAnswersContainer.setAttribute("data-radio-button",radio_button)):radio_button&&"t"===this.attributes.display_all_questions?possibleAnswersContainer.setAttribute("data-radio-button",radio_button):this.widget.removeAttribute("data-radio-button"),this.question.possible_answers&&"f"===this.attributes.display_all_questions?(this.widget.setAttribute("data-possible-answers",this.question.possible_answers.length),possibleAnswersContainer.setAttribute("data-possible-answers",this.question.possible_answers.length)):this.question.possible_answers&&"t"===this.attributes.display_all_questions?possibleAnswersContainer.setAttribute("data-possible-answers",this.question.possible_answers.length):this.widget.removeAttribute("data-possible-answers"),"single_choice_question"===this.question.question_type&&this.renderSingleChoiceQuestion(possibleAnswersContainer,display_all_questions),"multiple_choices_question"===this.question.question_type&&this.renderMultipleChoicesQuestion(possibleAnswersContainer,display_all_questions),"free_text_question"===this.question.question_type&&this.renderFreeTextQuestion(possibleAnswersContainer,display_all_questions),"slider_question"===this.question.question_type&&this.renderSliderQuestion(possibleAnswersContainer,display_all_questions),"custom_content_question"===this.question.question_type){for(k=0,len1=(customContentCardNextQuestions=document.getElementsByClassName("pi_question_link")).length;k<len1;k++)customContentCardNextQuestions[k].onclick=window.PulseInsightsObject.survey.customCardClicked;"t"===this.question.fullscreen&&(this.widget.setAttribute("id","_pi_surveyWidgetCustom"),this.closeButton.setAttribute("class","_pi_closeCustomButton"),questionElement.setAttribute("class",`_pi_question _pi_question_${this.question.question_type} _pi_question_${this.question.question_type}_fullscreen`),null!=this.question.opacity?document.getElementById("_pi_surveyWidgetCustom").style.opacity="."+this.question.opacity:document.getElementById("_pi_surveyWidgetCustom").style.opacity=".9",null!=this.question.background_color?document.getElementById("_pi_surveyWidgetCustom").style.background=this.question.background_color:document.getElementById("_pi_surveyWidgetCustom").style.background="white"),"t"===this.question.autoclose_enabled&&null!=this.question.autoclose_delay?setTimeout(function(){return window.PulseInsightsObject.survey.submitSurveyClosed(),window.PulseInsightsObject.triggerOnCompleteCallback(),window.PulseInsightsObject.survey.tearDownWidget()},1e3*this.question.autoclose_delay):(this.question.autoredirect_enabled=null!=this.question.autoredirect_url&&null!=this.question.autoredirect_delay)&&(redirect_url=this.question.autoredirect_url,setTimeout(function(){return window.location=redirect_url},1e3*this.question.autoredirect_delay))}if(this.question.additional_content&&0===this.question.additional_content_position&&this.widgetContent.appendChild(this.additionalContentElement()),this.widgetContent.appendChild(possibleAnswersContainer),this.question.additional_content&&1===this.question.additional_content_position&&this.widgetContent.appendChild(this.additionalContentElement()),this.handleAdditionalText(questionElement,possibleAnswersContainer),!display_all_questions&&0!==this.question.position)return this.setFocusAfterLoad()},loadingInterstitial:function(){return this.accessibilitySpan},focusOnLoadingInterstitial:function(){if(window.PulseInsightsObject.survey.controlTransitionFocus)return this.loadingInterstitial().setAttribute("style","display: block;"),this.loadingInterstitial().setAttribute("tabindex","0"),this.loadingInterstitial().focus()},resetLoadingInterstitial:function(){return this.loadingInterstitial().setAttribute("style","display: none;"),this.loadingInterstitial().removeAttribute("tabindex")},findFocusTarget:function(){var focusTarget;return this.renderedThankYou?focusTarget=document.getElementsByClassName("_pi_thankYouSurvey")[0]:this.renderedResults?focusTarget=document.getElementsByClassName("_pi_question")[0]:"single_choice_question"===this.question.question_type?focusTarget=2===this.question.button_type?document.getElementsByClassName("_pi_select")[0]:document.querySelectorAll("._pi_answers_container a")[0]:"multiple_choices_question"===this.question.question_type?focusTarget=document.getElementsByClassName("_pi_checkbox")[0]:"free_text_question"===this.question.question_type?focusTarget=document.getElementsByClassName("_pi_free_text_question_field")[0]:"slider_question"===this.question.question_type?focusTarget=document.getElementsByClassName("_pi_hidden_slider")[0]:"custom_content_question"===this.question.question_type&&(focusTarget=document.getElementsByClassName("_pi_question_custom_content_question")[0]).setAttribute("tabindex","0"),focusTarget},setFocusAfterLoad:function(){var focusTarget;if(window.PulseInsightsObject.survey.controlTransitionFocus&&(window.PulseInsightsObject.survey.setControlTransitionFocus(!1),document.activeElement===this.loadingInterstitial()&&null!=(focusTarget=this.findFocusTarget())))return focusTarget.focus(),this.resetLoadingInterstitial()},additionalContentElement:function(){var additionalContent,positionName;if(this.question.additional_content)return(additionalContent=document.createElement("div")).setAttribute("class","_pi_additional_content"),positionName=0===this.question.additional_content_position?"header":"footer",additionalContent.setAttribute("data-position",positionName),additionalContent.innerHTML=this.question.additional_content,additionalContent},renderResults:function(results){var answerIds,formattedResultCount,index,j,k,len,len1,pollChart,pollChoice,pollContainer,pollFiller,pollName,pollProgress,pollProgressCount,pollProgressPercentage,pollText,question,questionElement,result,resultCount,resultPercentage,self,totalCount;for(this.focusOnLoadingInterstitial(),this.widgetContent.innerHTML="",(questionElement=document.createElement("div")).setAttribute("class","_pi_question"),questionElement.setAttribute("tabindex","0"),question=this.question||PulseInsightsObject.question,questionElement.innerHTML=this.formatText(question.content),this.widgetContent.appendChild(questionElement),self=this,totalCount=0,j=0,len=results.length;j<len;j++)result=results[j],totalCount+=parseInt(result.count);for("multiple_choices_question"===question.question_type&&(answerIds=this.multipleChoiceAnswerIds(question.id)),"single_choice_question"===question.question_type&&(totalCount+=1),"multiple_choices_question"===question.question_type&&(totalCount+=answerIds.length),(pollContainer=document.createElement("div")).setAttribute("class","_pi_pollContainer"),index=k=0,len1=results.length;k<len1;index=++k)result=results[index],resultCount=parseInt(result.count),"single_choice_question"===question.question_type&&this.answerId===result.id&&(resultCount+=1),"multiple_choices_question"===question.question_type&&answerIds.includes(result.id)&&(resultCount+=1),resultPercentage=totalCount>0?Math.round(100*resultCount/totalCount):0,formattedResultCount=resultCount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),(pollChoice=document.createElement("label")).setAttribute("class","_pi_pollChoice"),pollChoice.setAttribute("tabindex","0"),pollChoice.setAttribute("role","figure"),pollChoice.setAttribute("aria-label",`${resultPercentage}% (${formattedResultCount} responses)`),(pollChart=document.createElement("span")).setAttribute("class","_pi_pollChart"),pollChart.setAttribute("data-percent",resultPercentage),pollChoice.appendChild(pollChart),(pollText=document.createElement("span")).setAttribute("class","_pi_pollText"),(pollFiller=document.createElement("span")).style.opacity="0",pollFiller.innerHTML=`${resultPercentage}%`,pollText.appendChild(pollFiller),(pollProgress=document.createElement("div")).setAttribute("class","_pi_pollProgress"),(pollProgressPercentage=document.createElement("div")).setAttribute("class","_pi_pollProgressPercentage"),pollProgressPercentage.innerHTML=`${resultPercentage}%`,(pollProgressCount=document.createElement("div")).setAttribute("class","_pi_pollProgressCount"),pollProgressCount.innerHTML=`(${formattedResultCount} responses)`,pollProgress.appendChild(pollProgressPercentage),pollProgress.appendChild(pollProgressCount),(pollName=document.createElement("div")).setAttribute("class","_pi_pollName"),pollName.setAttribute("tabindex","0"),pollName.setAttribute("role","heading"),pollName.innerHTML=self.formatText(result.content),pollChoice.appendChild(pollText),pollContainer.appendChild(pollName),pollContainer.appendChild(pollChoice),pollContainer.appendChild(pollProgress),pollContainer.style.transition="all .3s cubic-bezier(0.5,1.2,.5,1.2)",this.widgetContent.appendChild(pollContainer);return setTimeout(function(){var l,len2,percent,ref,results1;for(results1=[],l=0,len2=(ref=document.getElementsByClassName("_pi_pollChart")).length;l<len2;l++)percent=(pollChart=ref[l]).getAttribute("data-percent"),results1.push(pollChart.style.width=`${percent}%`);return results1},100),this.renderedResults=!0,this.setFocusAfterLoad()},renderThankYou:function(){var thankYouSurvey;return(thankYouSurvey=document.createElement("div")).setAttribute("class","_pi_thankYouSurvey"),thankYouSurvey.innerHTML=this.formatText(this.thankYouText()),thankYouSurvey.setAttribute("tabindex","0"),this.focusOnLoadingInterstitial(),this.widgetContent.innerHTML="",this.widgetContent.appendChild(thankYouSurvey),setTimeout(function(){return window.PulseInsightsObject.survey.submitSurveyClosed(),window.PulseInsightsObject.triggerOnCompleteCallback(),window.PulseInsightsObject.survey.tearDownWidget()},2e3),this.renderedThankYou=!0,this.setFocusAfterLoad()},handleAdditionalText:function(questionElement,possibleAnswersContainer){var afterItem,afterQuestion,beforeItem,beforeQuestion,index,j,k,len,len1,ref,ref1,scaleContainerAfter,scaleContainerBefore;if("single_choice_question"===this.question.question_type&&1===this.question.button_type){if(this.questionHasBeforeText()&&((beforeQuestion=document.createElement("div")).setAttribute("class","_pi_header pi_header_before"),beforeQuestion.setAttribute("id",`_pi_header_before_${this.question.id}`),beforeQuestion.innerHTML=DOMPurify.sanitize(this.question.before_question_text),questionElement.parentNode.insertBefore(beforeQuestion,questionElement)),this.questionHasAfterText()&&((afterQuestion=document.createElement("div")).setAttribute("class","_pi_header pi_header_after"),afterQuestion.setAttribute("id",`_pi_header_after_${this.question.id}`),afterQuestion.innerHTML=DOMPurify.sanitize(this.question.after_question_text),questionElement.parentNode.insertBefore(afterQuestion,questionElement.nextSibling)),parseInt(this.question.before_answers_count)>0){for((scaleContainerBefore=document.createElement("div")).setAttribute("class","_pi_scale_container _pi_scale_container_before"),scaleContainerBefore.setAttribute("data-scale-items",this.question.before_answers_count),index=j=0,len=(ref=JSON.parse(this.question.before_answers_items)).length;j<len;index=++j)ref[index],beforeItem=document.createElement("div"),0===index&&parseInt(this.question.before_answers_count)>=2&&beforeItem.setAttribute("class","_pi_scale _pi_scale_first"),(0===index&&1===parseInt(this.question.before_answers_count)||0!==index&&index!==parseInt(this.question.before_answers_count)-1&&parseInt(this.question.before_answers_count)>=3)&&beforeItem.setAttribute("class","_pi_scale _pi_scale_middle"),index===parseInt(this.question.before_answers_count)-1&&parseInt(this.question.before_answers_count)>=2&&beforeItem.setAttribute("class","_pi_scale _pi_scale_last"),beforeItem.innerHTML=JSON.parse(this.question.before_answers_items)[index],scaleContainerBefore.appendChild(beforeItem);possibleAnswersContainer.parentNode.insertBefore(scaleContainerBefore,possibleAnswersContainer)}if(parseInt(this.question.after_answers_count)>0){for((scaleContainerAfter=document.createElement("div")).setAttribute("class","_pi_scale_container _pi_scale_container_after"),scaleContainerAfter.setAttribute("data-scale-items",this.question.after_answers_count),index=k=0,len1=(ref1=JSON.parse(this.question.after_answers_items)).length;k<len1;index=++k)ref1[index],afterItem=document.createElement("div"),0===index&&parseInt(this.question.after_answers_count)>=2&&afterItem.setAttribute("class","_pi_scale _pi_scale_first"),(0===index&&1===parseInt(this.question.after_answers_count)||0!==index&&index!==parseInt(this.question.after_answers_count)-1&&parseInt(this.question.after_answers_count)>=3)&&afterItem.setAttribute("class","_pi_scale _pi_scale_middle"),index===parseInt(this.question.after_answers_count)-1&&parseInt(this.question.after_answers_count)>=2&&afterItem.setAttribute("class","_pi_scale _pi_scale_last"),afterItem.innerHTML=JSON.parse(this.question.after_answers_items)[index],scaleContainerAfter.appendChild(afterItem);return possibleAnswersContainer.parentNode.insertBefore(scaleContainerAfter,possibleAnswersContainer.nextSibling)}}},displayFlexDisplay:function(){return new Date(1e3*this.question.created_at)>new Date("2019-04-08")&&"single_choice_question"===this.question.question_type&&1===this.question.button_type},questionHasBeforeText:function(){return null!==this.question.before_question_text&&this.question.before_question_text.length>0},questionHasAfterText:function(){return null!==this.question.after_question_text&&this.question.after_question_text.length>0},renderCSS:function(){return this.insertCSS(this.cssStyle())},renderThemeCss:function(){return null!=this.attributes.theme_css&&this.insertCSS(this.attributes.theme_css)},renderCustomCSS:function(){return null!=this.attributes.custom_css&&this.insertCSS(this.attributes.custom_css)},removeCss:function(klass){var css;if(css=document.querySelector(`.${klass}`))return css.parentNode.removeChild(css)},insertCSS:function(cssText,klass){var class_name,css;return(css=document.createElement("style")).type="text/css",class_name=`survey-${this.id()}`,klass&&(class_name+=` ${klass}`),css.className=class_name,css.styleSheet?css.styleSheet.cssText=cssText:css.appendChild(document.createTextNode(cssText)),document.getElementsByTagName("body")[0].appendChild(css)},insertWidgetContainer:function(widgetContainer,widgetParent,renderPosition){return"below"===renderPosition?widgetParent.appendChild(widgetContainer):"above"===renderPosition?widgetParent.insertBefore(widgetContainer,widgetParent.childNodes[0]):"before"===renderPosition?widgetParent.parentElement.insertBefore(widgetContainer,widgetParent):"after"===renderPosition?widgetParent.parentElement.insertBefore(widgetContainer,widgetParent.nextSibling):void 0}})}.call(this),function(){window.PulseInsightsInclude(window.PulseInsights,{present_results:function(submissionUdid){return this.jsonpGet("/present_results",{submission_udid:submissionUdid,identifier:this.identifier},this.showResults)},showResults:function(data){var container,i,index,j,len,len1,pollChart,pollChoice,pollContainer,pollFiller,pollName,pollProgress,pollText,questionElement,ref,ref1,result,resultCount,resultPercentage,survey,thankYouSurvey,totalCount;if(data.poll){for((survey=new TopBarSurvey({id:"poll-results",question:[data.question]})).renderCSS(),window.PulseInsightsObject.isMobile()&&1!==this.attributes.survey_type&&3!==this.attributes.survey_type&&survey.insertCSS(this.mobileCssStyle()),this.widgetContainer=document.createElement("div"),this.widgetContainer.setAttribute("id","_pi_surveyWidgetContainer"),this.widget=document.createElement("div"),this.widget.setAttribute("id","_pi_surveyWidget"),this.widgetContent=document.createElement("div"),this.widgetContent.setAttribute("class","_pi_widgetContentContainer"),this.widget.appendChild(this.widgetContent),this.widgetContent.innerHTML="",this.widgetContainer.appendChild(this.widget),(questionElement=document.createElement("div")).setAttribute("class","_pi_question"),questionElement.innerHTML=data.content,this.widgetContent.appendChild(questionElement),totalCount=0,i=0,len=(ref=data.poll).length;i<len;i++)result=ref[i],totalCount+=parseInt(result.count);for((pollContainer=document.createElement("div")).setAttribute("class","_pi_pollContainer"),index=j=0,len1=(ref1=data.poll).length;j<len1;index=++j)result=ref1[index],resultCount=parseInt(result.count),resultPercentage=Math.round(100*resultCount/totalCount),(pollChoice=document.createElement("label")).setAttribute("class","_pi_pollChoice"),(pollChart=document.createElement("span")).setAttribute("class","_pi_pollChart"),pollChart.setAttribute("data-percent",resultPercentage),pollChoice.appendChild(pollChart),(pollText=document.createElement("span")).setAttribute("class","_pi_pollText"),(pollFiller=document.createElement("span")).style.opacity="0",pollFiller.innerHTML=resultPercentage>=10?"0":"00",pollText.appendChild(pollFiller),(pollProgress=document.createElement("div")).setAttribute("class","_pi_pollProgress"),pollProgress.innerHTML=`${resultPercentage}% (${result.count.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")} responses)`,(pollName=document.createElement("div")).setAttribute("class","_pi_pollName"),pollName.innerHTML=survey.formatText(result.content),pollChoice.appendChild(pollText),pollContainer.appendChild(pollName),pollContainer.appendChild(pollChoice),pollContainer.appendChild(pollProgress),pollContainer.style.transition="all .3s cubic-bezier(0.5,1.2,.5,1.2)",this.widgetContent.appendChild(pollContainer);return survey.widgetParent().insertBefore(this.widgetContainer,survey.widgetParent().childNodes[0]),container=this.widget,setTimeout(function(){var k,len2,percent,ref2,results;for(container.setAttribute("style","max-height: 1999px"),results=[],k=0,len2=(ref2=document.getElementsByClassName("_pi_pollChart")).length;k<len2;k++)percent=(pollChart=ref2[k]).getAttribute("data-percent"),results.push(pollChart.style.width=`${percent}%`);return results},100)}if(data.thank_you)return(survey=new TopBarSurvey({id:"thank-you",question:[]})).renderCSS(),window.PulseInsightsObject.isMobile()&&1!==this.attributes.survey_type&&3!==this.attributes.survey_type&&survey.insertCSS(this.mobileCssStyle()),this.widgetContainer=document.createElement("div"),this.widgetContainer.setAttribute("id","_pi_surveyWidgetContainer"),this.widget=document.createElement("div"),this.widget.setAttribute("id","_pi_surveyWidget"),this.widget.setAttribute("survey-widget-type",this.constructor.name.toLowerCase()),window.PulseInsightsObject.isMobile()&&this.widgetContainer.setAttribute("class","mobile-enabled"),this.widgetContent=document.createElement("div"),this.widgetContent.setAttribute("class","_pi_widgetContentContainer"),this.widget.appendChild(this.widgetContent),this.widgetContainer.appendChild(this.widget),survey.widgetParent().insertBefore(this.widgetContainer,survey.widgetParent().childNodes[0]),(thankYouSurvey=document.createElement("div")).setAttribute("class","_pi_thankYouSurvey"),thankYouSurvey.innerHTML=survey.formatText(data.thank_you),this.widgetContent.innerHTML="",this.widgetContent.appendChild(thankYouSurvey),container=this.widget,survey.height(),setTimeout(function(){return container.setAttribute("style","max-height: 1999px")},10)}})}.call(this),function(){window.PulseInsightsInclude(window.Survey,{renderSingleChoiceQuestion:function(possibleAnswersContainer,display_all_questions){var emptyAnswerAlertLabel,emptyOption,fillAnswerContainer,i,is_mobile,j,labelContainer,len,len1,possibleAnswerSelectList,questionId,ref,ref1,removeEmptyAnswerAlert,self;if(self=this,is_mobile=window.PulseInsightsObject.isMobile()&&1!==this.attributes.survey_type&&3!==this.attributes.survey_type,0===this.question.button_type&&possibleAnswersContainer.setAttribute("role","radiogroup"),2===this.question.button_type){for((possibleAnswerSelectList=document.createElement("select")).setAttribute("class","_pi_select"),possibleAnswerSelectList.setAttribute("aria-labelledby",`_pi_question_${this.question.id}`),possibleAnswerSelectList.setAttribute("aria-describedby",`_pi_question_${this.question.id}_empty_answer_alert`),(emptyOption=document.createElement("option")).setAttribute("disabled",""),emptyOption.setAttribute("selected",""),emptyOption.setAttribute("value",""),emptyOption.innerHTML=this.escapeText(this.question.single_choice_default_label),possibleAnswerSelectList.appendChild(emptyOption),i=0,len=(ref=this.question.possible_answers).length;i<len;i++)!function(possibleAnswer){var possibleAnswerOption;(possibleAnswerOption=document.createElement("option")).setAttribute("value",possibleAnswer.id),possibleAnswerOption.setAttribute("data-answer-id",possibleAnswer.id),possibleAnswerOption.innerHTML=self.formatText(possibleAnswer.content),possibleAnswerOption.setAttribute("data-possible-answer-locale-group-id",possibleAnswer.possible_answer_locale_group_id),possibleAnswerSelectList.appendChild(possibleAnswerOption)}(ref[i]);possibleAnswersContainer.appendChild(possibleAnswerSelectList),display_all_questions?(fillAnswerContainer=function(answerContainer,possibleAnswerSelectList){return answerContainer.setAttribute("data-answer",possibleAnswerSelectList.value),answerContainer.setAttribute("data-answer-content",possibleAnswerSelectList.options[possibleAnswerSelectList.selectedIndex].text)},removeEmptyAnswerAlert=function(answerContainer,possibleAnswerSelectList){return answerContainer.querySelector("._pi_single_choice_empty_answer_alert").innerText="",possibleAnswerSelectList.setAttribute("aria-invalid","false")},possibleAnswerSelectList.addEventListener("keydown",function(event){var answerContainer,survey;if("Enter"===event.key)return event.preventDefault(),window.PulseInsightsObject.survey.setControlTransitionFocus(!0),answerContainer=this.parentNode,fillAnswerContainer(answerContainer,this),(survey=window.PulseInsightsObject.survey).allAtOnceEmptyErrorEnabled()&&!survey.isQuestionOptional(answerContainer)&&removeEmptyAnswerAlert(answerContainer,this),survey.checkSubmissionCompleteness(answerContainer)}),possibleAnswerSelectList.onchange=function(event){var answerContainer,survey;return answerContainer=this.parentNode,fillAnswerContainer(answerContainer,this),window.PulseInsightsObject.survey.setControlTransitionFocus(window.PulseInsightsObject.survey.shouldControlFocus(event)),(survey=window.PulseInsightsObject.survey).allAtOnceEmptyErrorEnabled()&&!survey.isQuestionOptional(answerContainer)&&removeEmptyAnswerAlert(answerContainer,this),survey.checkSubmissionCompleteness(answerContainer)}):(possibleAnswerSelectList.addEventListener("keydown",function(event){if("Enter"===event.key)return event.preventDefault(),window.PulseInsightsObject.survey.answerClicked.call(possibleAnswerSelectList,event)}),possibleAnswerSelectList.onchange=window.PulseInsightsObject.survey.answerClicked)}else for(questionId=this.question.id,j=0,len1=(ref1=this.question.possible_answers).length;j<len1;j++)!function(possibleAnswer){var image_height,image_width,per_row,possibleAnswerElement,possibleAnswerElementLink,possibleAnswerImage,possibleAnswerLabelElement,radioButtonInnerElement,radioButtonOuterElement,role;possibleAnswerElement=document.createElement("li"),(possibleAnswerElementLink=document.createElement("a")).setAttribute("href","javascript:void(0)"),role=0===self.question.button_type?"radio":"button",possibleAnswerElementLink.setAttribute("role",role),possibleAnswerElementLink.setAttribute("data-answer-id",possibleAnswer.id),possibleAnswerElementLink.setAttribute("tabindex","-1"),possibleAnswerElementLink.setAttribute("aria-describedby",`_pi_question_${questionId}_empty_answer_alert`),(radioButtonOuterElement=document.createElement("span")).setAttribute("class","_pi_radio_button_outer"),(radioButtonInnerElement=document.createElement("span")).setAttribute("class","_pi_radio_button_inner"),radioButtonOuterElement.appendChild(radioButtonInnerElement),possibleAnswerElementLink.appendChild(radioButtonOuterElement),possibleAnswer.image_url&&(possibleAnswerElementLink.setAttribute("class","with-image"),possibleAnswerElement.setAttribute("class","with-image"),(possibleAnswerImage=document.createElement("img")).setAttribute("src",possibleAnswer.image_url),"mobile"===window.PulseInsightsObject.deviceType()?(image_height=possibleAnswer.image_height_mobile,image_width=possibleAnswer.image_width_mobile):"tablet"===window.PulseInsightsObject.deviceType()?(image_height=possibleAnswer.image_height_tablet,image_width=possibleAnswer.image_width_tablet):(image_height=possibleAnswer.image_height,image_width=possibleAnswer.image_width),possibleAnswerImage.setAttribute("height",image_height),possibleAnswerImage.setAttribute("width",image_width),possibleAnswerImage.setAttribute("alt",possibleAnswer.image_alt),possibleAnswerElementLink.appendChild(possibleAnswerImage)),"0"!==self.question.image_type&&((possibleAnswerLabelElement=document.createElement("label")).setAttribute("tabindex","0"),possibleAnswerLabelElement.setAttribute("role","presentation"),possibleAnswer.image_url&&possibleAnswerLabelElement.setAttribute("class","with-image"),possibleAnswerLabelElement.innerHTML=self.formatText(possibleAnswer.content),possibleAnswerElementLink.appendChild(possibleAnswerLabelElement),"0"===possibleAnswer.image_position?possibleAnswerElementLink.setAttribute("class","with-img with-img-top"):"1"===possibleAnswer.image_position?possibleAnswerElementLink.setAttribute("class","with-img with-img-bottom"):"2"===possibleAnswer.image_position?possibleAnswerElementLink.setAttribute("class","with-img with-img-right"):"3"===possibleAnswer.image_position&&possibleAnswerElementLink.setAttribute("class","with-img with-img-left")),per_row=is_mobile?self.question.answers_per_row_mobile:self.question.answers_per_row_desktop,0===self.question.button_type&&per_row&&(possibleAnswerElement.setAttribute("style",`max-width: calc(${100/per_row}% - 20px);`),possibleAnswer.image_url&&(possibleAnswerImage.setAttribute("style","margin: 5px 25px;"),radioButtonOuterElement.setAttribute("style","top: calc(50% - 7px);"))),1===self.question.button_type&&(radioButtonOuterElement.setAttribute("style","display: none;"),0===self.question.desktop_width_type&&per_row&&(possibleAnswerElement.setAttribute("style",`max-width: calc(${100/per_row}% - 20px);`),"0"!==self.question.image_type&&possibleAnswerLabelElement.setAttribute("style","text-align: center;")),1===self.question.desktop_width_type&&(possibleAnswer.image_url&&possibleAnswerElementLink.setAttribute("style","text-align: center;"),"0"!==self.question.image_type&&possibleAnswerLabelElement.setAttribute("style","text-align: center; width: 100%; margin: 0;"),0!==self.question.answers_alignment_desktop||self.displayFlexDisplay()||possibleAnswerElement.setAttribute("style","width: auto; max-width: none; float: left; display: block;"),1!==self.question.answers_alignment_desktop||self.displayFlexDisplay()||possibleAnswerElement.setAttribute("style","width: auto; max-width: none; float: none; display: inline-block;"))),display_all_questions?(removeEmptyAnswerAlert=function(answerContainer){var emptyAnswerAlertLabel,firstPossibleAnswer;return emptyAnswerAlertLabel=answerContainer.querySelector("._pi_single_choice_empty_answer_alert"),firstPossibleAnswer=answerContainer.querySelector("a"),emptyAnswerAlertLabel.innerText="",
firstPossibleAnswer.setAttribute("aria-invalid","false")},possibleAnswerElementLink.addEventListener("keydown",function(event){var answerContainer,k,len2,ref2,survey;if("Enter"===event.key||"Space"===event.code){for(event.preventDefault(),window.PulseInsightsObject.survey.setControlTransitionFocus(!0),k=0,len2=(ref2=this.parentElement.parentElement.querySelectorAll("li")).length;k<len2;k++)ref2[k].setAttribute("class","");return this.parentElement.setAttribute("class","selected"),(answerContainer=this.parentNode.parentNode).setAttribute("data-answer",this.getAttribute("data-answer-id")),(survey=window.PulseInsightsObject.survey).allAtOnceEmptyErrorEnabled()&&!survey.isQuestionOptional(answerContainer)&&removeEmptyAnswerAlert(answerContainer),survey.checkSubmissionCompleteness(answerContainer)}}),possibleAnswerElementLink.onclick=function(event){var answerContainer,k,len2,ref2,survey;for(window.PulseInsightsObject.survey.setControlTransitionFocus(window.PulseInsightsObject.survey.shouldControlFocus(event)),event.preventDefault(),k=0,len2=(ref2=this.parentElement.parentElement.querySelectorAll("li")).length;k<len2;k++)ref2[k].setAttribute("class","");return this.parentElement.setAttribute("class","selected"),(answerContainer=this.parentNode.parentNode).setAttribute("data-answer",this.getAttribute("data-answer-id")),answerContainer.setAttribute("data-answer-content",this.text),(survey=window.PulseInsightsObject.survey).allAtOnceEmptyErrorEnabled()&&!survey.isQuestionOptional(answerContainer)&&removeEmptyAnswerAlert(answerContainer),survey.checkSubmissionCompleteness(answerContainer)}):(possibleAnswerElementLink.addEventListener("keydown",function(event){if("Enter"===event.key||"Space"===event.code)return event.preventDefault(),window.PulseInsightsObject.survey.answerClicked.call(possibleAnswerElementLink,event)}),possibleAnswerElementLink.onclick=window.PulseInsightsObject.survey.answerClicked),possibleAnswerElementLink.setAttribute("data-possible-answer-locale-group-id",possibleAnswer.possible_answer_locale_group_id),possibleAnswerElement.appendChild(possibleAnswerElementLink),possibleAnswersContainer.appendChild(possibleAnswerElement)}(ref1[j]);if(self.isAllAtOnce()&&self.allAtOnceEmptyErrorEnabled()&&!self.isQuestionOptional(possibleAnswersContainer))return(labelContainer=document.createElement("div")).setAttribute("class","_pi_single_choice_question_label_container"),possibleAnswersContainer.appendChild(labelContainer),(emptyAnswerAlertLabel=document.createElement("div")).setAttribute("id",`_pi_question_${this.question.id}_empty_answer_alert`),emptyAnswerAlertLabel.setAttribute("class","_pi_single_choice_empty_answer_alert"),emptyAnswerAlertLabel.setAttribute("data-alert-text",this.question.empty_error_text),labelContainer.appendChild(emptyAnswerAlertLabel)},addSingleChoiceEmptyAnswerAlert:function(answerContainer){var emptyAnswerAlertLabel;return(emptyAnswerAlertLabel=answerContainer.querySelector("._pi_single_choice_empty_answer_alert")).innerText=emptyAnswerAlertLabel.getAttribute("data-alert-text")},setSingleChoiceAriaInvalid:function(answerContainer){return(answerContainer.querySelector("select")||answerContainer.querySelector("a")).setAttribute("aria-invalid","true")},singleChoiceQuestionCSS:function(){return`._pi_single_choice_question_label_container { clear: both; margin: 0px 18px 0px; } ._pi_single_choice_empty_answer_alert { ${this.fontCSS()}; font-size: 12px; color: #927a85; }`}})}.call(this),function(){window.PulseInsightsInclude(window.Survey,{renderSliderQuestion:function(possibleAnswersContainer,display_all_questions=!1){var hiddenSlider,i,len,ref,slider,sliderContainer,submitButton;for(sliderContainer=this.createSliderContainer(possibleAnswersContainer),hiddenSlider=this.createHiddenSlider(sliderContainer),slider=this.createSlider(sliderContainer),submitButton=this.hasSubmitButton()?this.createSliderSubmitButton(possibleAnswersContainer):null,display_all_questions&&this.allAtOnceEmptyErrorEnabled()&&this.createAllAtOnceAlertForSlider(sliderContainer),slider.noUiSlider.on("change",function(values,_handle,_unencoded,_tap,_positions,noUiSlider){var answerContainer,sliderPosition;return sliderPosition=values[0],answerContainer=noUiSlider.getOrigins()[0].closest("._pi_answers_container"),window.PulseInsightsObject.survey.processSliderEngagement(answerContainer,sliderPosition)}),hiddenSlider.addEventListener("change",function(e){var answerContainer,sliderPosition,survey;return sliderPosition=parseInt(e.target.value),answerContainer=e.target.closest("._pi_answers_container"),(survey=window.PulseInsightsObject.survey).moveSliderPosition(answerContainer,sliderPosition),survey.processSliderEngagement(answerContainer,sliderPosition)}),i=0,len=(ref=slider.querySelectorAll(".noUi-value")).length;i<len;i++)!function(pip){pip.addEventListener("click",function(){var answerContainer,sliderPosition,survey;return sliderPosition=parseInt(this.getAttribute("data-value")),answerContainer=this.closest("._pi_answers_container"),(survey=window.PulseInsightsObject.survey).moveSliderPosition(answerContainer,sliderPosition),survey.processSliderEngagement(answerContainer,sliderPosition)})}(ref[i]);if(submitButton)return submitButton.addEventListener("click",function(event){var answerContainer,survey;return window.PulseInsightsObject.survey.shouldControlFocus(event)&&window.PulseInsightsObject.survey.setControlTransitionFocus(!0),answerContainer=this.closest("._pi_answers_container"),(survey=window.PulseInsightsObject.survey).sliderHasBeenEngaged(answerContainer)?survey.submitSliderAnswer(survey.answerId):(survey.addSliderSubmitButtonError(answerContainer),survey.setSliderAriaInvalid(answerContainer))})},hasSubmitButton:function(){return"f"===this.attributes.display_all_questions&&"t"===this.question.slider_submit_button_enabled},processSliderEngagement:function(answerContainer,sliderPosition){var answerId,question,questionId;return this.synchronizeHiddenSlider(answerContainer,sliderPosition),this.markSliderAsEngaged(answerContainer),this.unsetSliderAriaInvalid(answerContainer),questionId=answerContainer.getAttribute("data-question-id"),question=this.getQuestionById(questionId),answerId=this.getPossibleAnswerByPosition(question,sliderPosition).id,"t"===this.attributes.display_all_questions?(answerContainer.setAttribute("data-answer",answerId),this.checkSubmissionCompleteness(answerContainer),this.removeAllAtOnceEmptyAnswerAlertForSlider(answerContainer)):(this.answerId=answerId,"t"===this.question.slider_submit_button_enabled?this.removeSliderSubmitButtonError(answerContainer):this.submitSliderAnswer(answerId))},moveSliderPosition:function(answerContainer,sliderPosition){return answerContainer.querySelector("._pi_slider").noUiSlider.set(sliderPosition)},synchronizeHiddenSlider:function(answerContainer,sliderPosition){var answer,hiddenSlider,question,questionId;return questionId=answerContainer.getAttribute("data-question-id"),question=this.getQuestionById(questionId),answer=this.getPossibleAnswerByPosition(question,sliderPosition),(hiddenSlider=answerContainer.querySelector("._pi_hidden_slider")).setAttribute("value",parseInt(sliderPosition)),hiddenSlider.ariaValueNow=parseInt(sliderPosition),hiddenSlider.ariaValueText=answer.content},addSliderSubmitButtonError:function(answerContainer){return answerContainer.querySelector("._pi_slider_question_submit_button_error").innerText=this.question.empty_error_text},removeSliderSubmitButtonError:function(answerContainer){return answerContainer.querySelector("._pi_slider_question_submit_button_error").innerText=""},setSliderAriaInvalid:function(answerContainer){return answerContainer.querySelector("._pi_hidden_slider").setAttribute("aria-invalid",!0)},unsetSliderAriaInvalid:function(answerContainer){return answerContainer.querySelector("._pi_hidden_slider").removeAttribute("aria-invalid")},addAllAtOnceEmptyAnswerAlertForSlider:function(answerContainer){var emptyAnswerAlertLabel;if(this.allAtOnceEmptyErrorEnabled())return(emptyAnswerAlertLabel=answerContainer.querySelector("._pi_all_at_once_slider_question_empty_answer_alert")).innerText=emptyAnswerAlertLabel.getAttribute("data-alert-text")},removeAllAtOnceEmptyAnswerAlertForSlider:function(answerContainer){if(this.allAtOnceEmptyErrorEnabled())return answerContainer.querySelector("._pi_all_at_once_slider_question_empty_answer_alert").innerText=""},markSliderAsEngaged:function(answerContainer){return answerContainer.querySelector("._pi_slider_question_container").classList.add("engaged")},sliderHasBeenEngaged:function(answerContainer){return answerContainer.querySelector("._pi_slider_question_container").classList.contains("engaged")},submitSliderAnswer:function(answerId){var PI,params,ref,submissionUdid;return(PI=window.PulseInsightsObject).previewMode?(this.answersSubmitted(),!1):(submissionUdid=(null!=(ref=PI.submission)?ref.udid:void 0)||null,params={identifier:PI.identifier,question_id:this.question.id,answer_id:answerId},PI.jsonpGet(`/submissions/${submissionUdid}/answer`,params,this.answersSubmitted))},createSliderContainer:function(containerNode){var sliderContainer;return(sliderContainer=document.createElement("div")).setAttribute("class","_pi_slider_question_container"),containerNode.appendChild(sliderContainer),sliderContainer},createHiddenSlider:function(containerNode){var hiddenSlider,sliderStartPosition;return sliderStartPosition=parseInt(this.question.slider_start_position),(hiddenSlider=document.createElement("input")).className="_pi_hidden_slider",hiddenSlider.type="range",hiddenSlider.min=0,hiddenSlider.max=this.question.possible_answers.length-1,hiddenSlider.step=1,hiddenSlider.defaultValue=sliderStartPosition,hiddenSlider.ariaValueNow=sliderStartPosition,hiddenSlider.ariaValueText=this.getPossibleAnswerByPosition(this.question,sliderStartPosition).content,containerNode.appendChild(hiddenSlider),hiddenSlider},createSlider:function(containerNode){var slider;return(slider=document.createElement("div")).className="_pi_slider",slider.ariaHidden=!0,containerNode.appendChild(slider),noUiSlider.create(slider,{start:parseInt(this.question.slider_start_position),range:{min:0,max:this.question.possible_answers.length-1},connect:"upper",step:1,pips:{mode:"count",values:this.question.possible_answers.length,filter:function(value){return Number.isInteger(parseFloat(value.toFixed(2)))?1:-1},format:{to:function(position){var content,survey;return content=(survey=window.PulseInsightsObject.survey).getPossibleAnswerByPosition(survey.question,position).content,window.PulseInsightsObject.survey.formatText(content)}}},keyboardSupport:!1}),slider},createSliderSubmitButton:function(containerNode){var submitButton,submitButtonContainer,submitButtonError;return(submitButtonContainer=document.createElement("div")).setAttribute("class","_pi_slider_question_submit_button_container"),containerNode.appendChild(submitButtonContainer),(submitButton=document.createElement("input")).setAttribute("class","_pi_slider_question_submit_button"),submitButton.setAttribute("type","submit"),submitButton.setAttribute("value",this.question.submit_label||"Submit"),submitButtonContainer.appendChild(submitButton),(submitButtonError=document.createElement("div")).setAttribute("class","_pi_slider_question_submit_button_error"),submitButtonError.setAttribute("role","alert"),submitButtonContainer.appendChild(submitButtonError),submitButton},createAllAtOnceAlertForSlider:function(containerNode){var alertContainer,emptyAnswerAlert;return(alertContainer=document.createElement("div")).setAttribute("class","_pi_all_at_once_slider_question_alert_container"),containerNode.appendChild(alertContainer),(emptyAnswerAlert=document.createElement("div")).setAttribute("class","_pi_all_at_once_slider_question_empty_answer_alert"),emptyAnswerAlert.setAttribute("data-alert-text",this.question.empty_error_text),alertContainer.appendChild(emptyAnswerAlert)},sliderQuestionCSS:function(){return`input[type='range']._pi_hidden_slider { width: 50px; position: absolute; left: 40px; } ._pi_slider { margin: 0 35px 35px; font-size: 15px; } ._pi_slider_question_submit_button_container { padding-top: 30px; } input._pi_slider_question_submit_button { background-color: black; font-size: 15px; padding: 5px 20px; border: none; color: #eaf4fb; cursor: pointer; } input._pi_slider_question_submit_button:hover { background-color: #101010; } input._pi_slider_question_submit_button:disabled { opacity: 0.3; } input._pi_slider_question_submit_button:hover:disabled { background-color: black; opacity: 0.3; } ._pi_all_at_once_slider_question_alert_container { ${this.fontCSS()}; font-size: 12px; color: #927a85; height: 17px; } ._pi_slider_question_submit_button_error { ${this.fontCSS()}; text-align: center; font-size: 12px; color: #927a85; margin-top: 10px; } /* * Using the default CSS, pips would overlap with the one-at-a-time submit button in rendering(it'd still look fine visually) */ .noUi-pips.noUi-pips-horizontal { height: 50px; /* original is 80px */ } /* * Pip clicking feature * https://refreshless.com/nouislider/examples/#section-click-pips */ .noUi-value { cursor: pointer; } /* * noUiSlider's default CSS * https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.6.1/nouislider.min.css */ .noUi-target,.noUi-target *{-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent;-webkit-user-select:none;-ms-touch-action:none;touch-action:none;-ms-user-select:none;-moz-user-select:none;user-select:none;-moz-box-sizing:border-box;box-sizing:border-box}.noUi-target{position:relative}.noUi-base,.noUi-connects{width:100%;height:100%;position:relative;z-index:1}.noUi-connects{overflow:hidden;z-index:0}.noUi-connect,.noUi-origin{will-change:transform;position:absolute;z-index:1;top:0;right:0;height:100%;width:100%;-ms-transform-origin:0 0;-webkit-transform-origin:0 0;-webkit-transform-style:preserve-3d;transform-origin:0 0;transform-style:flat}.noUi-txt-dir-rtl.noUi-horizontal .noUi-origin{left:0;right:auto}.noUi-vertical .noUi-origin{top:-100%;width:0}.noUi-horizontal .noUi-origin{height:0}.noUi-handle{-webkit-backface-visibility:hidden;backface-visibility:hidden;position:absolute}.noUi-touch-area{height:100%;width:100%}.noUi-state-tap .noUi-connect,.noUi-state-tap .noUi-origin{-webkit-transition:transform .3s;transition:transform .3s}.noUi-state-drag *{cursor:inherit!important}.noUi-horizontal{height:18px}.noUi-horizontal .noUi-handle{width:34px;height:28px;right:-17px;top:-6px}.noUi-vertical{width:18px}.noUi-vertical .noUi-handle{width:28px;height:34px;right:-6px;bottom:-17px}.noUi-txt-dir-rtl.noUi-horizontal .noUi-handle{left:-17px;right:auto}.noUi-target{background:#FAFAFA;border-radius:4px;border:1px solid #D3D3D3;box-shadow:inset 0 1px 1px #F0F0F0,0 3px 6px -5px #BBB}.noUi-connects{border-radius:3px}.noUi-connect{background:#3FB8AF}.noUi-draggable{cursor:ew-resize}.noUi-vertical .noUi-draggable{cursor:ns-resize}.noUi-handle{border:1px solid #D9D9D9;border-radius:3px;background:#FFF;cursor:default;box-shadow:inset 0 0 1px #FFF,inset 0 1px 7px #EBEBEB,0 3px 6px -3px #BBB}.noUi-active{box-shadow:inset 0 0 1px #FFF,inset 0 1px 7px #DDD,0 3px 6px -3px #BBB}.noUi-handle:after,.noUi-handle:before{content:"";display:block;position:absolute;height:14px;width:1px;background:#E8E7E6;left:14px;top:6px}.noUi-handle:after{left:17px}.noUi-vertical .noUi-handle:after,.noUi-vertical .noUi-handle:before{width:14px;height:1px;left:6px;top:14px}.noUi-vertical .noUi-handle:after{top:17px}[disabled] .noUi-connect{background:#B8B8B8}[disabled] .noUi-handle,[disabled].noUi-handle,[disabled].noUi-target{cursor:not-allowed}.noUi-pips,.noUi-pips *{-moz-box-sizing:border-box;box-sizing:border-box}.noUi-pips{position:absolute;color:#999}.noUi-value{position:absolute;white-space:nowrap;text-align:center}.noUi-value-sub{color:#ccc;font-size:10px}.noUi-marker{position:absolute;background:#CCC}.noUi-marker-sub{background:#AAA}.noUi-marker-large{background:#AAA}.noUi-pips-horizontal{padding:10px 0;height:80px;top:100%;left:0;width:100%}.noUi-value-horizontal{-webkit-transform:translate(-50%,50%);transform:translate(-50%,50%)}.noUi-rtl .noUi-value-horizontal{-webkit-transform:translate(50%,50%);transform:translate(50%,50%)}.noUi-marker-horizontal.noUi-marker{margin-left:-1px;width:2px;height:5px}.noUi-marker-horizontal.noUi-marker-sub{height:10px}.noUi-marker-horizontal.noUi-marker-large{height:15px}.noUi-pips-vertical{padding:0 10px;height:100%;top:0;left:100%}.noUi-value-vertical{-webkit-transform:translate(0,-50%);transform:translate(0,-50%);padding-left:25px}.noUi-rtl .noUi-value-vertical{-webkit-transform:translate(0,50%);transform:translate(0,50%)}.noUi-marker-vertical.noUi-marker{width:5px;height:2px;margin-top:-1px}.noUi-marker-vertical.noUi-marker-sub{width:10px}.noUi-marker-vertical.noUi-marker-large{width:15px}.noUi-tooltip{display:block;position:absolute;border:1px solid #D9D9D9;border-radius:3px;background:#fff;color:#000;padding:5px;text-align:center;white-space:nowrap}.noUi-horizontal .noUi-tooltip{-webkit-transform:translate(-50%,0);transform:translate(-50%,0);left:50%;bottom:120%}.noUi-vertical .noUi-tooltip{-webkit-transform:translate(0,-50%);transform:translate(0,-50%);top:50%;right:120%}.noUi-horizontal .noUi-origin>.noUi-tooltip{-webkit-transform:translate(50%,0);transform:translate(50%,0);left:auto;bottom:10px}.noUi-vertical .noUi-origin>.noUi-tooltip{-webkit-transform:translate(0,-18px);transform:translate(0,-18px);top:auto;right:28px}`}})}.call(this),function(){window.PulseInsightsInclude(window.PulseInsights,{clientKeyName:function(){return"pulse_insights_client_key"},getClientKey:function(){return this.getItemFromStorage(this.clientKeyName())},updateClientKey:function(newClientKey){return this.setItemInStorage(this.clientKeyName(),newClientKey)}})}.call(this),function(){window.PulseInsightsInclude(window.PulseInsights,{createCookie:function(name,value,minutes){var cookie,date,expires;return minutes?((date=new Date).setTime(date.getTime()+60*minutes*1e3),expires="; expires="+date.toGMTString()):expires="",cookie=name+"="+value+expires+"; path=/",this.log(`Creating cookie ${cookie}`),document.cookie=cookie},readCookie:function(name){var findCookie,i,len,nameEQ,ref,value;for(nameEQ=name+"=",this,value=null,findCookie=function(c){for(;" "===c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(nameEQ))return value=c.substring(nameEQ.length,c.length)},i=0,len=(ref=document.cookie.split(";")).length;i<len;i++)findCookie(ref[i]);return this.log(`Read cookie ${name}: ${value}`),value},eraseCookie:function(name){return this.createCookie(name,"",-1)}})}.call(this),function(){window.PulseInsightsInclude(window.PulseInsights,{supportsLocalStorage:function(){var e;try{return window.localStorage,null!==window.localStorage}catch(error1){return e=error1,this.log(e),!1}},getItemFromStorage:function(key){var item;return null!==(item=window.localStorage.getItem(key))?(this.log(`Get item from Local Storage ${key}: ${item}`),item):(item=this.readCookie(key))?(this.migrateFromCookieToStorage(key,item),item):(this.log(`${key} was not found in Local Storage`),null)},setItemInStorage:function(key,item,force=!1){var error;if(force)this.log(`Forcing storage of ${key}`);else if("false"===this.getItemFromStorage(this.visitorTrackingKeyName()))return;try{return item=item.toString(),window.localStorage.setItem(key,item),this.log(`Set item in Local Storage ${key}: ${item}`)}catch(error1){return error=error1,this.log("Error while setting item in Local Storage: "+error)}},removeItemFromStorage:function(key){return window.localStorage.removeItem(key),this.log(`Remove item from Local Storage ${key}`)},migrateFromCookieToStorage:function(key,item){return this.setItemInStorage(key,item),this.eraseCookie(key),this.log(`Cookie was migrated to Local Storage ${key}: ${item}`)}})}.call(this),function(){window.PulseInsightsInclude(window.PulseInsights,{pageviewCountKeyName:function(){return"pi_pageview_count"},getPageviewCount:function(){return this.getItemFromStorage(this.pageviewCountKeyName())},updatePageviewCount:function(pageviewCount){return this.setItemInStorage(this.pageviewCountKeyName(),pageviewCount)}})}.call(this),function(){window.PulseInsightsInclude(window.PulseInsights,{UDIDKeyName:function(){return"pulse_insights_udid"},getUDID:function(){var existingUDID,key,newUDID;return key=this.UDIDKeyName(),(existingUDID=this.getItemFromStorage(key))?existingUDID:(newUDID=this.createUDID(),this.setItemInStorage(key,newUDID),newUDID)},updateUDID:function(newUDID){return this.setItemInStorage(this.UDIDKeyName(),newUDID)},createUDID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r;return r=16*Math.random()|0,("x"===c?r:3&r|8).toString(16)})}})}.call(this),function(){window.PulseInsightsInclude(window.PulseInsights,{visitCountKeyName:function(){return"pi_visit_count"},getVisitCount:function(){return this.getItemFromStorage(this.visitCountKeyName())},updateVisitCount:function(visitCount){return this.setItemInStorage(this.visitCountKeyName(),visitCount)}})}.call(this),function(){window.PulseInsightsInclude(window.PulseInsights,{visitTrackKeyName:function(){return"pi_visit_track"},getVisitTrack:function(){return this.getItemFromStorage(this.visitTrackKeyName())},updateVisitTrack:function(visitTrack){return this.setItemInStorage(this.visitTrackKeyName(),visitTrack)},isNewVisit:function(lastVisitEpoch,currentTimeEpoch){return isNaN(parseInt(lastVisitEpoch))&&"true"!==lastVisitEpoch||parseInt(lastVisitEpoch)+this.expiryEpochTime()<currentTimeEpoch},expiryEpochTime:function(){return 12e5}})}.call(this),function(){window.PulseInsightsInclude(window.Survey,{escapeText:function(text){return window.PulseInsightsLibrary.escapeText(text)},formatText:function(text){return window.PulseInsightsLibrary.formatText(text)}})}.call(this),function(){window.TopBarSurvey=class extends window.BarSurvey{widgetType(){return"topbarsurvey"}widgetPositioning(){return"top: 0px; left: 0px; right: 0px;"}cssStyle(){return super.cssStyle()+"#_pi_pusher { display: block; } ._pi_closeButton { top: 14px; width: 40px; height: 40px; }"}render(){var parent,redimensionPusher;if(super.render(),"false"!==this.attributes.pusher_enabled)return this.log("Pusher Enabled"),this.pusher=document.createElement("div"),this.pusher.setAttribute("id","_pi_pusher"),(parent=document.getElementsByTagName("body")[0]).insertBefore(this.pusher,parent.firstChild),redimensionPusher=function(){var pusher,widgetHeight;return pusher=document.getElementById("_pi_pusher"),widgetHeight=document.getElementById("_pi_surveyWidget").offsetHeight,pusher.setAttribute("style",`height: ${widgetHeight}px;`)},this.redimensionPusherInterval=setInterval(redimensionPusher,100);this.log("Pusher Disabled")}closeButtonClicked(){if(super.closeButtonClicked(),null!=this.redimensionPusherInterval)return setTimeout(function(){return clearInterval(this.redimensionPusherInterval),this.redimensionPusherInterval=null},1e3)}}}.call(this),function(){window.PulseInsightsInclude(window.PulseInsights,{trackEvent:function(name,properties){return this.jsonpGet("/track_event",this.eventParameters(name,properties),this.eventSent)},eventSent:function(){return this.log("Event has been sent")},eventParameters:function(name,properties){return{event_name:name,event_properties:JSON.stringify(properties),identifier:this.identifier||null,udid:this.getUDID(),url:window.location.href}}})}.call(this),function(){window.PulseInsightsInclude(window.PulseInsights,{visitorTrackingKeyName:function(){return"pi_visitor_tracking"},visitor_tracking:function(enabled){var was_disabled;return this.log("Setting visitor tracking to "+enabled),was_disabled="false"===this.getItemFromStorage(this.visitorTrackingKeyName()),this.setItemInStorage(this.visitorTrackingKeyName(),enabled,!0),enabled?was_disabled?(this.updateUDID(this.createUDID()),this.updatePageviewCount(1),this.updateVisitCount(1)):void 0:(localStorage.removeItem(this.pageviewCountKeyName()),localStorage.removeItem(this.visitTrackKeyName()),localStorage.removeItem(this.visitCountKeyName()),localStorage.removeItem(this.UDIDKeyName()),localStorage.removeItem(this.clientKeyName()),this.eraseCookie("pi_pageview_count"),this.eraseCookie("pi_visit_track"),this.eraseCookie("pi_visit_count"),this.eraseCookie("pi_live_preview"),this.eraseCookie("pulse_insights_client_key"),this.eraseCookie("pulse_insights_udid"))}})}.call(this),window.PulseInsightsInclude.initialize=function(){const url=new URL(window.location),disableWidgetKey="disable_widget";["1","t","true"].includes(url.searchParams.get(disableWidgetKey))?(console.debug("suppressing widget -- execute snippet to load new widget"),url.searchParams["delete"](disableWidgetKey),window.history.pushState({},"",url)):"object"==typeof window.PulseInsightsObject||(window.PulseInsightsObject=new window.PulseInsights,window.PulseInsightsInclude.initializeSinglePageApp())},window.PulseInsightsInclude.initialize();